We now turn to developing the syntactic side of dual LNL models called
dual LNL logic (DLNL).  First, we give a sequent calculus
formalization which we will simply refer to as DLNL logic, then a
natural deduction formalization called DND logic, and finally a term
assignment to the natural deduction version.  Each of these systems
will consistently use the same syntax and naming conventions for
formulas, types, and contexts given by the following definition.
\begin{definition}
  \label{def:DLNL-syntax-formulas-ctx}
  The the syntax for formulas, types, and contexts are given as follows:
  \[
  \begin{array}{rllll}
    \text{(non-linear formulas/types)} & [[R]],[[S]],[[T]] ::= [[0]] \mid [[S + T]] \mid [[S - T]] \mid [[H A]]\\
    \text{(linear formulas/types)}     & [[A]],[[B]],[[C]] ::= [[False]] \mid [[A (+) B]] \mid [[A *- B]] \mid [[J S]]\\
    \text{(non-linear contexts)}       & [[P]],[[PI]] ::= [[.]] \mid [[T]] \mid [[P,PI]]\\
    \text{(linear contexts)}           & [[G]],[[D]]  ::= [[.]] \mid [[A]] \mid [[G,D]]\\
  \end{array}
  \]
\end{definition}
\noindent
The term assignment will index contexts by terms, but we will maintain
the same naming convention throughout.

\subsection{The Sequent Calculus for Dual LNL Logic}
\label{sec:sequent_calculus}

\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleCXXid{} \and
      \DualLNLLogicdruleCXXwk{} \and
      \DualLNLLogicdruleCXXcr{} \and
      \DualLNLLogicdruleCXXex{} \and
      \DualLNLLogicdruleCXXfL{} \and
      \DualLNLLogicdruleCXXdL{} \and
      \DualLNLLogicdruleCXXdROne{} \and
      \DualLNLLogicdruleCXXdRTwo{} \and
      \DualLNLLogicdruleCXXsL{} \and
      \DualLNLLogicdruleCXXsR{} \and
      \DualLNLLogicdruleCXXcut{} \and
      \DualLNLLogicdruleCXXhL{}     
    \end{mathpar}
  \end{mdframed}
  \caption{Non-linear fragment of the DLNL logic}
  \label{fig:non-linear-sequent}
\end{figure}

\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleLXXid{} \and
      \DualLNLLogicdruleLXXwk{} \and
      \DualLNLLogicdruleLXXctr{} \and
      \DualLNLLogicdruleLXXex{} \and
      \DualLNLLogicdruleLXXCex{} \and
      \DualLNLLogicdruleLXXcut{} \and
      \DualLNLLogicdruleLXXCcut{} \and
      \DualLNLLogicdruleLXXflL{} \and
      \DualLNLLogicdruleLXXflR{} \and
      \DualLNLLogicdruleLXXdROne{} \and
      \DualLNLLogicdruleLXXdRTwo{} \and
      \DualLNLLogicdruleLXXpL{} \and
      \DualLNLLogicdruleLXXpR{} \and
      \DualLNLLogicdruleLXXsL{} \and
      \DualLNLLogicdruleLXXsR{} \and
      \DualLNLLogicdruleLXXCsR{} \and
      \DualLNLLogicdruleLXXjL{} \and
      \DualLNLLogicdruleLXXjR{} \and
      \DualLNLLogicdruleLXXhR{}      
    \end{mathpar}
  \end{mdframed}
  \caption{Linear fragment of the DLNL logic}
  \label{fig:linear-fragment-sequent}
\end{figure}

In this section we take the dual of Benton's~\cite{Benton:1994}
sequent calculus for LNL logic to obtain the sequent calculus for dual
LNL logic.  The inference rules for the non-linear fragment can be
found in Figure~\ref{fig:non-linear-sequent} and the linear fragment
in Figure~\ref{fig:linear-fragment-sequent}. The remainder of this
section is devoted to proving cut-elimination.  However, the proof is
simply a dualization of Benton's~\cite{Benton:1994} proof of
cut-elimination for LNL logic.

Just as Benton we use $n$-ary cuts:
\[
\DualLNLLogicdruleCXXmcut{} \quad \DualLNLLogicdruleLXXCmcut{}
\]
where $S^n = S, \ldots, S$ $n$-times. We call $\DLNLP$ the system DLNL with $n$-cuts replacing 
ordinary 1-cuts. Such cuts are admissible in DLNL and cut-elimination for $\DLNLP$ implies 
cut-elimination for DLNL.

We begin with the a few standard definitions. The \emph{rank} of a
formula, denoted by $|A|$ or $|S|$, is the number of the logical
symbols in the given formula.  The \emph{cut-rank} of a derivation
$\Pi$, denoted by $c(\Pi)$, is the maximum of the ranks of the cut
formulas in $\Pi$ plus one; if $\Pi$ is cut-free its cut rank is 0.
Finally, the \emph{depth} of a derivation $\Pi$, denoted by $d(\Pi)$,
is the length of the longest path in $\Pi$.  The following three
results establishes cut elimination.

\begin{lemma}[Cut Reduction]
  \label{lemma:cut_reduction}
  The following defines the cut reduction procedure:
  \begin{enumerate}
  \item If $\Pi_1$ is a derivation of $[[T |-C P, S^n]]$ and  $\Pi_2$ is a derivation of $[[S |-C P']]$ with 
    $c(\Pi_1), c(\Pi_2) \leq |S|$, then there exists a derivation $\Pi$ of $T\vdash_{\mathsf{C}} \Psi, \Psi'$ with $c(\Pi) \leq |S|$;
  \item If $\Pi_1$ is a derivation of $T \vdash_{\mathsf{L}} \Delta; \Psi, S^n$ and  $\Pi_2$ is a derivation of $S \vdash_{\mathsf{C}}\Psi'$ with 
    $c(\Pi_1), c(\Pi_2) \leq |S|$, then there exists a derivation $\Pi$ of $T\vdash_{\mathsf{L}} \Delta; \Psi, \Psi'$ with $c(\Pi) \leq |S|$;
  \item If $\Pi_1$ is a derivation of $B\vdash_{\mathsf{L}} \Delta; \Psi, A^n$ and  $\Pi_2$ is a derivation of $A \vdash_{\mathsf{L}}\Delta', \Psi'$ with $c(\Pi_1), c(\Pi_2) \leq |S|$,
    then there exists a derivation $\Pi$ of $B\vdash_{\mathsf{C}}\Delta, \Delta', \Psi, \Psi'$ with $c(\Pi) \leq |A|$.
  \end{enumerate}
\end{lemma}
\begin{proof}
  By induction on $d(\Pi_1) + d(\Pi_2)$.  We give one case where the
  last inferences of $\Pi_1$ and $\Pi_2$ are logical inferences;
  please see
  Appendix~\ref{subsec:proof_of_cut_reduction_lemma:cut-reduction} for
  the complete proof.

\ \\
\noindent
$\lsub$ right / $\lsub$ left. We have 
\begin{center}
\begin{tabular}{c}
\AxiomC{$\pi_1$ }
\noLine
\UnaryInfC{$A \vdash_{\mathsf{L}} \Delta_1; \Psi_1, B_1$}
 \AxiomC{$\pi_2$ } 
\noLine
\UnaryInfC{$B_2 \vdash_{\mathsf{L}} \Delta_2; \Psi_2$}
\LeftLabel{$\Pi_1 =$}
\RightLabel{$\DualLNLLogicdruleLXXsRName$}
\BinaryInfC{$A \vdash_{\mathsf{L}} B_1 \lsub B_2,  \Delta_1, \Delta_2; \Psi_1, \Psi_2$}
% 
\AxiomC{$\pi_3$}
\noLine
\UnaryInfC{$B_1 \vdash_{\mathsf{L}} B_2, \Delta ;  \Psi$}
\LeftLabel{$\Pi_2 =$}
\RightLabel{$\DualLNLLogicdruleLXXsLName$}
\UnaryInfC{$B_1 \lsub B_2 \vdash_{\mathsf{L}} \Delta ; \Psi$}
\RightLabel{$\DualLNLLogicdruleLXXcutName$}
\BinaryInfC{$A \vdash_{\mathsf{L}} \Delta_1, \Delta_2, \Delta ; \Psi_1, \Psi_2, \Psi$}
\DisplayProof\\
\\
reduces to $\Pi$ 
\\
\\
\AxiomC{$\pi_1$}
\noLine
\UnaryInfC{$A\vdash_{\mathsf{L}} \Delta_1, B_1; \Psi_1$}
 \AxiomC{$\pi_3$}
\noLine
\UnaryInfC{$B_1 \vdash_{\mathsf{L}} B_2, \Delta ;  \Psi$}
% \LeftLabel{$\Pi'$}
\RightLabel{$\DualLNLLogicdruleLXXcutName$}
\BinaryInfC{$A\vdash_{\mathsf{L}} \Delta_1, \Delta, B_2; \Psi_1,\Psi$}
 \AxiomC{$\pi_2$ } 
\noLine
\UnaryInfC{$B_2 \vdash_{\mathsf{L}} \Delta_2; \Psi_2$}
\RightLabel{$\DualLNLLogicdruleLXXcutName$}
\BinaryInfC{$A \vdash_{\mathsf{L}} \Delta_1, \Delta_2, \Delta; \Psi_1, \Psi_2, \Psi$}
\DisplayProof
\end{tabular}
\end{center}
The resulting derivation $\Pi$ has cut rank $c(\Pi) = max(|B_1|+1, c(\pi_1), c(\pi_2), |B_2|+1, c(\pi_3)) \leq |B_1\lsub B_2|$.  
\end{proof}

\begin{lemma}[Decrease in Cut-Rank]
  \label{lemma:decrease-cut-rank}
  Let $\Pi$ be a $\DLNLP$ proof of a sequent  $S \vdash_{\mathsf{C}} \Psi$ or $A \vdash_{\mathsf{L}} \Delta; \Psi$ with 
  $c(\Pi)>0$. Then there exists a proof $\Pi'$ of the same sequent with $c(\Pi') < c(\Pi)$. 
\end{lemma}
\begin{proof} 
  By induction on $d(\Pi)$. If the last inference is not a cut, then we apply the 
  induction hypothesis. If the last inference is a cut on a formula $A$, but $A$ is not of maximal rank
  among the cut formulas, so that $c(\Pi) > |A|+1$, then we apply the induction hypothesis. Finally,  
  if the last inference is a cut on $A$ and $c(\Pi) = |A| + 1$ we have the following situation:
  \begin{center}
    \AxiomC{$\Pi_1$}
    \noLine
    \UnaryInfC{$B \vdash_{\mathsf{L}} \Delta, A ; \Psi$}
    \AxiomC{$\Pi_2$}
    \noLine
    \UnaryInfC{$A \vdash_{\mathsf{L}} \Delta' ; \Psi'$}
    \LeftLabel{$\Pi =$}
    \RightLabel{$\DualLNLLogicdruleLXXcutName$}
    \BinaryInfC{$B \vdash_{\mathsf{L}} \Delta, \Delta'; \Psi, \Psi'$}
    \DisplayProof
  \end{center}
  Now since $c(\Pi_1), c(\Pi_2) \leq |A| + 1$ then by applying the
  induction hypothesis to the premises of the previous derivation we
  can construct derivations $\Pi'_1$ and $\Pi'_2$ with $c(\Pi'_1) \leq
  |A|$ and $c(\Pi'_2) \leq |A|$. Then by cut reduction we can
  construct a derivation $\Pi'$ proving $B \vdash_{\mathsf{L}} \Delta,
  \Delta'; \Psi, \Psi'$ with $c(\Pi') \leq |A|$ as required.
\end{proof}

\begin{theorem}[Cut Elimination]
  \label{thm:cut_elimination}
  Let $\Pi$ be a proof of a sequent $[[S |-C P]]$ or
  $[[A |-L D ; P]]$ such that $c(\Pi)> 0$. There is
  an algorithm which yields a cut free proof of the same sequent.
\end{theorem}
\begin{proof}
  By induction on $c(\Pi)$ using the previous lemma. 
\end{proof}

\begin{remark}
  \label{rem:additive-contexts}
  In DLNL logic contexts are treated multiplicatively. Some cases of
  the previous proof would be best treated with additive contexts, for
  instance non-linear disjunction elimination to match the categorical
  interpretation of disjunction as coproduct.  Of course additive
  contexts can be simulated using weakening and contraction.
\end{remark}
% subsection sequent_calculus (end)

\subsection{Sequent-style Natural Deduction}
\label{sec:sequent-style_natural_deduction}

The inference rules for the non-linear and linear fragments of the
sequent-style natural deduction formalization of DLNL (DND) can be
found in Figure~\ref{fig:non-linear-nd} and Figure~\ref{fig:linear-nd}
respectively.  Some of the inference rules are formulated
\emph{additively} instead of multiplicatively as we explained in the
previous section; see Remark~\ref{rem:additive-contexts}.
\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleNCXXid{} \and
      \DualLNLLogicdruleNCXXzE{} \and
      \DualLNLLogicdruleNCXXdIOne{} \and
      \DualLNLLogicdruleNCXXdITwo{} \and
      \DualLNLLogicdruleNCXXdE{} \and
      \DualLNLLogicdruleNCXXsubI{} \and
      \DualLNLLogicdruleNCXXsubE{} \and
      \DualLNLLogicdruleNCXXHE{}      
    \end{mathpar}
  \end{mdframed}
  \caption{Non-linear fragment of DND logic}
  \label{fig:non-linear-nd}
\end{figure}

\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleNLXXid{} \and
      \DualLNLLogicdruleNLXXpI{} \and
      \DualLNLLogicdruleNLXXpE{} \and
      \DualLNLLogicdruleNLXXparI{} \and
      \DualLNLLogicdruleNLXXparE{} \and
      \DualLNLLogicdruleNLXXsubI{} \and
      \DualLNLLogicdruleNLXXsubE{} \and
      \DualLNLLogicdruleNLXXJI{} \and
      \DualLNLLogicdruleNLXXJE{} \and
      \DualLNLLogicdruleNLXXHI{} \and
      \DualLNLLogicdruleNLXXHE{}      
    \end{mathpar}
  \end{mdframed}
  \caption{Linear fragment of DND logic}
  \label{fig:linear-nd}
\end{figure}

We now give a correspondence between DND and DLNL logic.  First, we
have several admissible rules.
\begin{lemma}[Admissible Rules in DND]
  \label{lemma:admissible_rules_in_dnd}
  The following rules are admissible in DND: 
  \begin{mathpar}
    \DualLNLLogicdruleNCXXweak{} \and
    \DualLNLLogicdruleNCXXcontr{} \and
    \DualLNLLogicdruleNCXXcut{} \and
    \DualLNLLogicdruleNLXXweak{} \and
    \DualLNLLogicdruleNLXXcontr{} \and
    \DualLNLLogicdruleNLXXCcut{} \and
    \DualLNLLogicdruleNLXXcut{}
  \end{mathpar}
\end{lemma}
Using these admissible rules we can construct a proof preserving
translation between DND and DLNL logic.
\begin{lemma}[Translations between DND and DLNL logic]
  \label{lemma:translations}
  There are functions $\mathcal{S}: DND \rightarrow DLNL$ 
  and $\mathcal{N}: DLNL \rightarrow DND$ from natural deduction to sequent 
  calculus derivations. 
\end{lemma}
\noindent
Notice that the right rules of the sequent calculus and the introductions of natural deduction
have the same form. Elimination rules are derivable from left rules with \emph{cut} and left 
rules are derivable using the admissible cut rule in DND. For instance, the $\DualLNLLogicdruleNCXXzEName$ rule 
\[ \DualLNLLogicdruleNCXXzE{} \]
is derivable in the sequent calculus as follows: 
\[
\AxiomC{$S\vdash_{\mathsf{C}} 0, \Psi$}
\AxiomC{$0\vdash S_1, \ldots S_n$}
\RightLabel{$\DualLNLLogicdruleCXXcutName{}$}
\BinaryInfC{$S\vdash_{\mathsf{C}} \Psi, S_1, \ldots S_n$}
\AxiomC{$ S_1 \vdash_{\mathsf{C}} \Psi_1$}
\RightLabel{$\DualLNLLogicdruleCXXcutName{}$}
\BinaryInfC{$S\vdash_{\mathsf{C}}  \Psi, \Psi_1, S_2, \ldots, S_n$}
\AxiomC{$\vdots$} 
\BinaryInfC{$S\vdash_{\mathsf{C}}  \Psi, \Psi_1, \ldots \Psi_{n-1}, S_n$}
\AxiomC{$S_n \vdash \Psi_n$} 
\RightLabel{$\DualLNLLogicdruleCXXcutName{}$}
\BinaryInfC{$S\vdash_{\mathsf{C}} \Psi, \Psi_1, \ldots \Psi_{n-1}, \Psi_n$ }
\DisplayProof
\]
% subsection sequent-style_natural_deduction (end)

\subsection{Term Assignment}
\label{sec:term_assignment}
We now turn to giving a term assignment to DND logic called TND, which
is greatly influenced by Crolard's %~\cite{Crolard:2001}
 term assignment for subtractive logic in the paper 
 \emph{A formulae-as-types
  interpretation of subtractive logic} JLC 2004. Crolard based his term assignment on
Parigot's~\cite{Parigot:1992} $\lambda\mu$-calculus.  He then shows
that a type theory of coroutines can be given by subtractive types 
and it is this result we pull inspiration from. 
% In fact, this result shows that the reduction of a term in the context may impact
% other terms in the context.

TND pushes beyond Crolard's paper \emph{A formulae-as-types
  interpretation of subtractive logic} JLC 2004, where he gives a term
assignment to bi-intuitionisitc logic within a variant of
Parigot's~\cite{Parigot:1992} classical $\lambda\mu$-calculus and
interprets the term assigned to subtraction in terms of coroutines. He
then restricts the calculus to provide a constructive version of
subtraction called \emph{safe coroutines}. The second author used a
variant of his constructive calculus as a term assignment to
co-intuitionistic logic and to linear co-intuitionistic logic
\cite{Bellin:2012} without using the $\lambda\mu$-calculus. In this
formulation, distinct terms are assigned to distinct formulas in the context and 
the reduction of a term in context may impact other terms n the context.

The syntax of TND terms is defined by the following definition.
\begin{definition}
  \label{def:TND-terms-syntax}
  The syntax for TND terms and typing judgments are given by the following grammar:
  \[
  \begin{array}{l}
    \begin{array}{cllllll}
    \text{(non-linear terms)} & [[s]],[[t]] & ::= & [[x]] \mid [[connectW to t]] \mid [[t1 * t2]] \mid
         [[false t]] \mid [[x(t)]] \mid [[mkc(t,x)]] \mid [[inl t]] \mid [[inr t]] \mid \\
         & & & [[case t of x.t1,y.t2]] \mid
         [[H e]] \mid [[let J x = e in t]] \mid [[postp(x -> t1,t2)]] \mid \\
         & & & [[let H x = t1 in t2]]\\
         \\
         \text{(linear terms)} & [[e]],[[u]] & ::= & [[x]] \mid [[connectP to e]] \mid [[postpP e]] \mid [[postp(x -> e1, e2)]] \mid [[mkc(e,x)]] \mid [[x(e)]] \mid \\
         & & & [[e1 (+) e2]] \mid [[casel e]] \mid [[caser e]] \mid [[J t]]\\         
  \end{array}
  \\\\
  \begin{array}{cll}
    \text{(non-linear judgment)} & [[x : R |-TC P]]\\
    \\
    \text{(linear judgment)} & [[x : A |-TL D;P]]\\
  \end{array}
  \end{array}
  \]
  Contexts, $[[D]]$ and $[[P]]$, are the straightforward extension
  where each type is annotated with a term from the respective
  fragment.
\end{definition}

To aid the reader in understanding the variable structure, which
variable annotations are bound, deployed throughout the TND term
syntax we give the definitions of the free variable functions in the
following definition.
\begin{definition}
The free variable functions, $FV(t)$ and $FV(e)$, for linear and
non-linear terms $t$ and $e$ are defined by mutual recursion as
follows:
\[ \small
\begin{array}{lll}  
  \begin{array}{lll}
    \textbf{linear terms:}\\
    \,\,FV([[x]])  = \{ [[x]]\}\\
    \,\,FV([[connectP to e]]) = FV(e) \\ 
    \,\,FV([[x(e)]]) = FV(e)\\
    \,\,FV([[mkc(e,y)]]) = FV(e)\\
    \,\,FV([[e1 (+) e_2]]) = FV(e_1) \cup FV(e_2)\\
    \,\,FV([[casel e]]) = FV(e)\\
    \,\,FV([[caser e]]) = FV(e)\\    
    \,\,FV([[J t]]) = FV(t)\\
    \\
    \\
    \\[13px]
  \end{array}
  & \quad &  
  \begin{array}{lll}
    \textbf{non-linear terms:}\\
    \,\,FV(x) = \{ x\}\\
    \,\,FV([[connectW to t]]) = FV(t) \\ 
    \,\,FV([[t1 * t2]])  = FV(t_1)\cup FV(t_2) \\
    \,\,FV([[false t]])  = FV(t) \\
    \,\,FV([[x(t)]]) = FV(t)\\
    \,\,FV([[mkc(t,y)]]) = FV(t)\\
    \,\,FV([[inl t]]) = FV([[inr t]]) = FV(t)\\
    \,\,FV([[case t1 of x.t_2,y.t_3]]) = \\
    \,\,\,\,\,\,\,\,\,\,FV(t_1)\cup FV(t_2)\smallsetminus\{x\}\cup FV(t_3)\smallsetminus \{y\}\\
    \,\,FV([[let J y = e in t]]) = FV(e)\cup FV(t)\smallsetminus \{y\} \\
    \,\,FV([[let H y = t1 in t2]]) = FV([[t1]])\cup FV([[t2]])\smallsetminus \{y\} \\
    \,\,FV([[H e]]) = FV(e)\\
  \end{array}
\end{array}
\]
The free variables of a $p$-term are defined s follows: 
\[
\begin{array}{rll}
  FV(\mathtt{postp}_{\bot}\ e) & = & FV(e)\\
  FV(\mathtt{postp} (x 􏰀\mapsto e_1, e_2)) & = & FV(e_1) \smallsetminus \{x\} \cup FV(e_2)
\end{array}
\] 
and similarly for terms $\mathtt{postp} (x 􏰀\mapsto t_1, t_2)$.
\end{definition}

Terms are then typed by annotating the previous term structure over
DND derivations, and this is accomplished by annotating the DND
inference rules.  The typing rules for the non-linear fragment of TND
can be found in Figure~\ref{fig:non-linear-ta}, and the typing rules
for the linear fragment of TND can be found in
Figure~\ref{fig:linear-ta}.
\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleTCXXid{} \and
      \DualLNLLogicdruleTCXXzI{} \and
      \DualLNLLogicdruleTCXXdIOne{} \and
      \DualLNLLogicdruleTCXXdITwo{} \and
      \DualLNLLogicdruleTCXXdE{} \and
      \DualLNLLogicdruleTCXXsubI{} \and
      \DualLNLLogicdruleTCXXsubE{} \and
      \DualLNLLogicdruleTCXXHE{} \and      
    \end{mathpar}
  \end{mdframed}
  \caption{Non-linear fragment of the term assignment for TND}
  \label{fig:non-linear-ta}
\end{figure}
\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleTLXXid{} \and
      \DualLNLLogicdruleTLXXpI{} \and
      \DualLNLLogicdruleTLXXpE{} \and
      \DualLNLLogicdruleTLXXparI{} \and
      \DualLNLLogicdruleTLXXparE{} \and
      \DualLNLLogicdruleTLXXsubI{} \and
      \DualLNLLogicdruleTLXXsubE{} \and
      \DualLNLLogicdruleTLXXJI{} \and
      \DualLNLLogicdruleTLXXJE{} \and
      \DualLNLLogicdruleTLXXHI{} \and
      \DualLNLLogicdruleTLXXHE{} \and      
    \end{mathpar}
  \end{mdframed}
  \caption{Linear fragment of the term assignment for TND}
  \label{fig:linear-ta}
\end{figure}
\begin{remark}
  Let us call terms of the form $[[postp(x -> t1,t2)]]$, $[[postp (x
      -> e1,e2)]]$, and $[[postpP e]]$ $p$-\emph{terms}. Then say that
  a term $t$ is \emph{$p$-normal} if $t$ does not contain any $p$-term
  as a proper subterm. We denote this class of \emph{$p$-normal} terms
  by $r$.  When the calculus is typed, linear $p$-terms can be typed
  with $\bot$, non-linear $p$ terms can be typed with $0$.  In
  presence of the $\bot$ rule and of the
  $\DualLNLLogicdruleTCXXzIName$ rule it is possible to replace a
  non-$p$-normal $p$-term removed by a $\beta$-reduction with a $\bot$
  or $\DualLNLLogicdruleTCXXzIName$ rule. However, this creates an
  anomaly in the proof theory since the newly introduced unit rule is
  unnecessary and could be eliminated in the case of $p$-normal terms.
  Hence, we choose to leave the typing of $p$ terms implicit in the
  syntax and enforce the requirement of $p$-normality.
\end{remark}

The typing rules depend on the extension of let and case expressions
to typing contexts.  We use the following notation for \emph{parallel
  composition} of typing contexts:
\[
\Delta = e_1: A_1\,\|\, \cdots \,\|\, e_n: A_n\qquad 
\]
This operation should be regarded as associative, commutative and
having the empty context as its identity. 
The extension of let expressions to contexts is given as follows:
\begin{center}
  \begin{tabular}{rcl}
    $\mathtt{let}\; p\; = t\; \mathtt{in}\ \cdot$ &\ =\ & $\cdot$\\
    $\mathtt{let}\; p\; = [[t1]]\; \mathtt{in}\ ([[t2]]: A)$ &\ =\ & $\mathtt{let}\; p\; = [[t1]]\,\mathsf{in}\,[[t2]] : A$\\
    $\mathtt{let}\; p\; = t\; \mathtt{in}\ ([[P1]]\,\|\,[[P2]])$ &\ =\ & 
    $(\mathtt{let}\; p\; = t\; \mathtt{in}\ [[P1]])\,\|\, (\mathtt{let}\; p\; = t\ \mathtt{in}\ [[P2]])$
  \end{tabular}
\end{center}
where $p = [[H y]]$ or $p = [[J y]]$.
Case expressions are handled similarly.

Similarly to DND logic we have the following admissible rules.
\begin{lemma}[Admissible Typing Rules]
  The term assignment for the admissible rules of the calculus is as follows:
  \begin{mathpar}
    \DualLNLLogicdruleTCXXweak{} \and
      \DualLNLLogicdruleTCXXcontr{} \and
      \DualLNLLogicdruleTCXXcut{} \and     
      \DualLNLLogicdruleTLXXweak{} \and
      \DualLNLLogicdruleTLXXcontr{} \and
      \DualLNLLogicdruleTLXXCcut{} \and
      \DualLNLLogicdruleTLXXcut{}      
  \end{mathpar}
\end{lemma}
\noindent
We generalize the admissible rule of contraction on the non-linear
side to contexts. Let $m_1$ and $m_2$ be multisets of terms, then we
denote by $m_1 \cdot m_2$ the sum of multisets; if multisets are
represented as lists, then the sum is representable as the appending
of the lists. We denote singleton multisets, $\{[[t]]\}$, by the term that inhabits
it, e.g. $[[t]]$.  We extend this to contexts, $\Psi_1 \cdot \Psi_2$, recursively as
follows:
\begin{center}
\begin{tabular}{rcl}
$(\cdot) \cdot (\cdot)$ &\ =\ & $(\cdot)$\\
$(t_1: S)\cdot (t_2:S)$ &\ =\ & $t_1\cdot t_2 : S$\\
  $(\Psi_1\,\|\,\Psi_3)\cdot(\Psi_2\,\|\,\Psi_4)$ &\ =\ & $(\Psi_1\cdot\Psi_2)\,\|\,(\Psi_3\cdot\Psi_4)$  
\end{tabular}
\end{center}
\noindent
where $|\Psi_1|=|\Psi_3|$ and $|\Psi_2|=|\Psi_4|$.

At this point we are now ready to turn to computing in TND by
specifying the reduction relation.  This definition is perhaps the
most interesting aspect of the theory, because reducing one term may
affect others.

\textbf{$\beta$-Reduction in TND.} As we discussed above
cointuitionistic logic can be interpreted as a theory of coroutines that
manipulate local context.  Thus, reducing one term in a typing context
could affect other terms in the context.  This implies that the
definition of the reduction relation for TND must account for more
than a single term. We accomplish this by defining the reduction
relation of terms in context, $[[x : S |-TC P1,t : T,P2]]$ and $[[x :
    A |-TL D1,e : B,D2;P]]$, so that the manipulation of the context
is made explicit.
\begin{figure}
  \begin{mdframed}     
  \begin{center}
    \begin{math}
      \begin{array}{c}
        \begin{array}{|c|}
          \multicolumn{1}{l}{\textbf{Bottom:}}\\
          \hline
          [[x : A |-TL postpP (connectP to e),D;P]]\\
          \rightsquigarrow\\
          [[x : A |-TL D;P]]\\
          \hline
        \end{array}\\
        \\
        \begin{array}{lll}
          \begin{array}{|c|}
            \multicolumn{1}{l}{\textbf{$\mathsf{H}$:}}\\
            \hline
            [[x : B |-TL D;P1 * (let H y = H e in P2)]]\\
            \rightsquigarrow\\
            [[x : B |-TL D;P1 * [e/y]P2]]\\
            \hline
          \end{array}
          & \quad &
          \begin{array}{|c|}
            \multicolumn{1}{l}{\textbf{$\mathsf{J}$:}}\\
            \hline
            [[x : A |-TL D;P1 * let J y = J t in P2]]\\
            \rightsquigarrow\\
            [[x : A |-TL D;P1 * [t/y]P2]]\\
            \hline
          \end{array}
        \end{array}\\
        \\
        \begin{array}{|c|}
          \multicolumn{1}{l}{\textbf{Linear Subtraction:}}\\
          \hline
          \multicolumn{1}{|l|}{[[P'2]] = [[ [y(e1)/y]P2,[z(mkc(e1,y))/z]P3]]}\\[5px]
          \multicolumn{1}{|l|}{[[P''2]] = [[ [ [e1/z]e2/y]P2,[e1/z]P3]]}\\
          \\[-10px]
          [[x : B |-TL D1,postp(z -> e2,mkc(e1,y)),[y(e1)/y]D2,[z(mkc(e1,y))/z]D3;P1,P'2]]\\
          \rightsquigarrow\\
          [[x : B |-TL D1,[ [e1/z]e2/y]D2,[e1/z]D3;P1,P2'']]\\
          \hline
        \end{array}\\
        \\
        \begin{array}{|c|}
          \multicolumn{1}{l}{\textbf{Par:}}\\
          \hline
          \multicolumn{1}{|l|}{[[P']] = [[ [casel(e1 (+) e2)/y]P1,[caser(e1 (+) e2)/z]P2]]}\\[5px]
          \multicolumn{1}{|l|}{[[P'']] = [[ [e1/y]P1,[e2/x]P2 ]]}\\
          \\[-10px]
          [[x : A |-TL D,[casel(e1 (+) e2)/y]D1,[caser(e1 (+) e2)/z]D2;P,P']]\\
          \rightsquigarrow\\
          [[x : A |-TL D,[e1/y]D1,[e2/x]D2;P,P'']]\\
          \hline
        \end{array}
      \end{array}
    \end{math}
  \end{center}
  \end{mdframed}
  \caption{Reductions for Linear Terms}
  \label{fig:red-linear-terms}
\end{figure}
\begin{figure}
  \begin{mdframed}    
  \begin{center}
  \begin{math}
    \begin{array}{c}
      \begin{array}{|c|}
        \multicolumn{1}{l}{\textbf{Subtraction:}}\\
        \hline
            [[x : S |-TC P1,{postp(z -> t2,mkc(t1,y))},[y(t1)/y]P2,[mkc(t1,y)/z]P3]]\\
            \rightsquigarrow\\
                [[x : S |-TC P1,[ [t1/z]t2/y]P2,[t1/x]P3]]\\
                \hline
      \end{array}\\
      \\
      \begin{array}{lll}
        \begin{array}{|c|}
          \multicolumn{1}{l}{\textbf{Coproduct Left:}}\\
          \hline
              [[x : S |-TC P1,case (inl t1) of y.P2,z.P3]]\\
              \rightsquigarrow\\
                  [[x : S |-TC P1,[t1/y]P2]]\\
                  \hline
        \end{array}
        & \quad &
        \begin{array}{|c|}
          \multicolumn{1}{l}{\textbf{Coproduct Right:}}\\
          \hline
              [[x : S |-TC P1,case (inr t1) of y.P2,z.P3]]\\
              \rightsquigarrow\\
                  [[x : S |-TC P1,[t1/z]P3]]\\
                  \hline
        \end{array}
      \end{array}\\
      \\
      \begin{array}{|c|}
        \multicolumn{1}{l}{\textbf{$\mathsf{H}$:}}\\
        \hline        
        [[x : H B |-TC (let H x = y in P1) * let H z = (let H x = y in H e) in P2]]\\
        \rightsquigarrow\\
        [[x : H B |-TC (let H x = y in P1) * (let H x = y in [e/z]P2)]]\\
        \hline
      \end{array}
    \end{array}
  \end{math}
  \end{center}
  \end{mdframed}
  \caption{Reductions for Non-linear Terms}
  \label{fig:red-non-linear}
\end{figure}

The reduction rules for the linear and non-linear fragments can be
found in Figure~\ref{fig:red-linear-terms} and
Figure~\ref{fig:red-non-linear} respectively.  We denote the judgments
for reduction by $[[x : S |-TC P1]] \rightsquigarrow [[x : S |-TC
    P2]]$ and $[[x : A |-TL D1;P1]] \rightsquigarrow [[x : A |-TL
    D2;P2]]$.  In the interest of readability we do not show full
derivations, but it should be noted that it is assumed that every term
mentioned in a reduction rule is typable with the expected type given
where it occurs in the judgment.  Furthermore, the reduction relation
depends on a few standard definitions.

Capture-avoiding substitution, denoted by $[[ [t1/x]t2]]$, $[[
    [e/x]t]]$, $[[ [t/x]e]]$, and $[[ [e1/x]e2]]$, is defined in the
usual way.  We extend capture-avoiding substitution to multisets in
the following way:
\begin{itemize}
\item $[t_1\cdot\ldots\cdot t_n/ z]s = [t_1/z]s\cdot\ldots\cdot [t_n/ z]s$
\item $[t_1\cdot\ldots\cdot t_n/ z]p = [t_1/z]p\,\|\, \ldots\,\|\, [t_n/ z]p,$ where $p$ is a $p$-term
\end{itemize}
The extension of the other flavors of substitution to multisets are
similar.  Standard extension of substitution to contexts was also
necessary.

Finally, there are several commuting conversions that are required
for reduction, for example, the following is one:
\[
\AxiomC{$\hskip1.6in [[y:T_2 |-TC P2, t1: T4 + T5]]$}
\noLine
\UnaryInfC{$[[x:S |-TC P1, t:T_2 + T_3]]\quad [[z:T_3 |-TC P3, t2: T4 + T5]]$}
\UnaryInfC{$[[x:S |-TC P1, case t of y.t1, z.t2 : T4 + T5]]$}
\AxiomC{$[[v1:T4 |-TC P4]] \quad [[v2:T5 |-TC P5]]$}
\BinaryInfC{$[[x:S |-TC P1, h(case (case t of y.t1, z.t2) of v1.P4, v2.P5)]]$}
\DisplayProof
\]
commutes to
\[
\inferrule* [right=] {
  [[x: S |-TC P1, t:T_2 + T_3]] \\ \Pi_1 \\ \Pi_2
}{[[x:S |-TC P1,  case t of y2.(P2,case t1 of v1.P4, v2.P5),y_3.(P3, case t2 of v_1.P4, v2.P5)]]}
\]
where
\[
\begin{array}{lll}
  \Pi_1:\\
  & \inferrule* [right=] {
    [[y2:T2 |-TC P2, t1: T4 + T5]] \\ [[v1:T4 |-TC P4]] \\ [[v2:T5 |-TC P5]]
  }{[[y2:T2 |-TC P2, case t1 of v1.P4, v2.P5]]}\\
  \\
  \Pi_2:\\
  & \inferrule* [right=] {
    [[y3:T3 |-TC P3, t2: T_4 + T_5]] \\ [[v1:T4 |-TC P4]] \\ [[v2:T5 |-TC P5]]
  }{[[y3:T3 |-TC P3, case t2 of v1.P4, v2.P5]]}
\end{array}
\]
If $[[t1]] = [[inl s1]]$ and $[[t2]] = [[inr s2]]$ then after commutation 
\[
[[y2:T_2 |-TC P2, case (inl s1) of v1.P4, v2.P5]] \rightsquigarrow_{\beta}
[[y2:T2 |-TC P2, [s1/v1]P4]] 
\]
and
\[
[[y3:T3 |-TC P3, case (inr s2) of v1.P4, v2.P5]] \rightsquigarrow_{\beta}
[[y2:T2 |-TC P3, [s2/v2]P5]]
\]
There are other commuting conversions as well, but as one can see, due
to the complexities introduced in reduction arising from the fact that
multiple terms in the context are affected during reduction results in
the commuting conversions from being very compact.  The remainder of
the commuting conversions can be found in
Appendix~\ref{sec:commuting_conversions}.  In the next section we give
the interpretation of TND into the categorical model.
% subsection term_assignment (end)

\subsection{Categorical interpretation of rules}
\label{sec:categorical_interpretation_of_rules}

We now turn to the interpretation of Dual LNL Logic into our
categorical model given in Section~\ref{sec:adjoint_model}.  We
structure the proof similarly to Bierman~\cite{Bierman:1994}, but the
proof itself follows similarly to Benton's~\cite{Benton:1994} proof
for LNL Logic.

Given a {\em signature} $\mathsf{Sg}$, consisting of a collection of types $\sigma_i$, where $\sigma_i = A\ \hbox{or}\ S$, 
and a collection of {\em sorted function symbols} $f_j : \sigma_1, \ldots, \sigma_n \rightarrow \tau$ and given 
a Symmetric Monoidal Category (SMC) $(\mathbb{C}, \bullet, 1, \alpha, \lambda, \rho, \gamma)$,  a {\em structure} 
$\mathcal{M}$ for $\mathsf{Sg}$ is an assignment of an object $[\![\sigma]\!]$ of $\mathcal{L}$ for each type $\sigma$ and of 
a morphism $[\![f]\!] : [\![\sigma_1]\!]\bullet\ldots\bullet[\![\sigma_n]\!]\rightarrow [\![\tau]\!]$ for each function
$f : \sigma_1, \ldots, \sigma_n \rightarrow \tau$ of $\mathsf{Sg}$.\footnote{ In this subsection only we use the symbol $\bullet$
  and 1 for the monoidal binary operation and its unit in the categorical structure, distinguished from the $\oplus$ and
  $\bot$ symbols in the formal language. We shall show that the interpretation of $\oplus$ is isomorphic to the operation
  $\bullet$, so we shall be able to identify them ( and similarly for $\bot$ and 1).}  The types of terms in context $\Delta = [e_1: A_1, \ldots, e_n: A_n]$ or $\Delta = [t_1: T_1, \ldots, t_n: T_n]$ are 
interpreted into the SMC as $[\![\sigma_1, \sigma_2, \ldots, \sigma_n]\!]$ =   
$(\ldots ([\![\sigma_1]\!]\bullet[\![\sigma_2]\!])\ldots ) \bullet [\![\sigma_n]\!]$; left associativity is also 
intended for concatenations of type sequences $\Gamma, \Delta$. Thus, we need the ``book-keeping'' functions 
$\mathtt{Split}(\Gamma, \Delta): [\![\Gamma, \Delta]\!] \rightarrow [\![\Gamma]\!]\bullet [\![\Delta]\!]$ and 
$\mathtt{Join}(\Gamma, \Delta): [\![\Gamma]\!] \bullet  [\![\Delta]\!] \rightarrow [\![\Gamma, \Delta]\!]$ inductively defined 
using the associativity laws $\alpha$ and its inverse $\alpha^{-1}$ (cfr Bierman 1994, Bellin 2015).  

The semantics of terms in context is then specified by induction on terms: 
\begin{center}
  \begin{tabular}{c}
    $[\![x: A\vdash_{\mathsf{L}} x: A]\!] =_{df} id_{[\![\sigma]\!]}$\\
    \\
    $[\![x: A\vdash_{\mathsf{L}}  f(e_1,\ldots, e_n): B]\!] =_{df} [\![x: A\vdash e_1: A_1]\!]\bullet
    \ldots\bullet [\![x:\sigma\triangleright e_n: A_n]\!]; [\![ f ]\!]$
  \end{tabular}
\end{center}   
and similarly with non-linear types. 
Following this one then proves by induction on the type derivation that substitution in the term calculus 
corresponds to composition in the category (\cite{Bierman:1994}, Lemma 13). 

In the mixed sequents $x:A \vdash_{\mathsf{L}} \Delta ; \Psi, t:T$ of TND non-linear terms are interpreted through the functor $J :
\mathcal{C} \rightarrow \mathcal{L}$. Thus, we have the following:
\[
  [[ x:A |-TL D ; P, t:T]]  = [[ x:A |-TL D, [ J P ] , J t : J T ; . ]]
\]  
Let $\mathcal{M}$ be a structure for a signature $\mathsf{Sg}$ in a
SMC $\mathcal{L}$. Equations in context will be denoted by $[[x: A
    |-TL G, e1 = e2 : B; P]]$ and $[[x: S |-TC P, t1 = t2 : T]]$, and
are both defined to be the reflexive, symmetric, and transitive
closure of the reduction relations defined by the rules in
Figure~\ref{fig:red-linear-terms} and Figure~\ref{fig:red-non-linear}
respectively.  Given such an equation:
$$
[[x: A |-TL G, e1 = e2 : B; P]]
$$
we say that the structure \emph{satisfies} the equation if it assigns the same morphisms to  
$[[x: A |-TL G, e_1 : B; P]]$.  and to $[[x : A |-TL G, e2 : B;P]]$.
Similarly, $\mathcal{M}$ satisfies $[[x: S |-TC P, t1 = t2 : T]]$ if it assigns the same morphism
to $[[x: S |-TC P, t1 : T]]$ and to $[[x: S |-TC P,  t2 : T]]$.
Then given an algebraic theory 
$\mathsf{Th} = (\mathsf{Sg}, \mathsf{Ax})$, a structure $\mathcal{M}$ for $\mathsf{Sg}$ is a {\em model} for $\mathsf{Th}$ if it satisfies all the 
axioms in $\mathsf{Ax}$. 

We now go through some cases of the rules in TND to specify their
categorical interpretation so as to satisfy the equations in context
and to prove consistency of TND, and hence, DLNL logic in the
model. We analyze the linear connectives, giving an
argument for co-ILL that is analogue to Bierman's for ILL. We conclude
that as expected:
\begin{itemize}
\item the cotensor \emph{par} can be identified with the bifunctor $\bullet$ of the structure; 
\item linear subtraction $\lsub$ is the left adjoint to the bifunctor $\bullet$; 
\item the unit $\bot$ can be identified with $1$.
\end{itemize}


\subsubsection{Linear Disjunction}\label{lindisj} 

The introduction rule for Par is of the form 
\[
\inferrule* [right=$\DualLNLLogicdruleTLXXparIName{}$] {
  [[x : A |-TL D,e1 : B,e2 : C;P]]
}{[[x : A |-TL D,e1 (+) e2 : B (+) C;P]]}
\]
This suggests an operation on Hom-sets of the form:
$$
\Phi_{A, \Delta J\Psi}: \mathcal{L}(A, \Delta \bullet (B \bullet C) \bullet J\Psi) \rightarrow 
\mathcal{L}(A, \Delta\bullet B\oplus C \bullet J\Psi)
$$
{\em natural in} $\Delta$, $A$ and $J\Psi$. Given 
$e: A\rightarrow \Delta \bullet (B\bullet C)\bullet J\Psi,$ $a: A' \rightarrow A$
 $h: \Delta\rightarrow\Delta'$, and  $p: J\Psi\rightarrow J\Psi'$, naturality yields:
$$
\Phi_{A', \Delta',J\Psi'}(a; e; h\bullet (id_B\bullet id_{\mathsf{C}}) \bullet p) = a; \Phi_{A, \Delta, J\Psi}(e); h\bullet id_{B\oplus C}\bullet p
$$
In particular, suppose we have $d: A \rightarrow \Delta\bullet (B\bullet C) \bullet [[J P]]$,
and let $e = id_{\Delta} \bullet (id_B \bullet id_{\mathsf{C}}) \bullet \id_{[[J P]]}$,
$h = id_{\Delta}$, and $p = id_{J\Psi}$. Then we have
$\Phi_{A, \Delta, [[J P]]}(d) = d; \Phi_{(\Delta \bullet (B \bullet C) \bullet [[J P]]),\Delta,[[J P]]} (id_{\Delta}\bullet (id_B \bullet id_{\mathsf{C}}) \bullet id_{J\Psi})$.
By functorality of $\bullet$ we have $id_{B}\bullet id_{C} = id_{B\bullet C}$. Hence, writing  
$\bigoplus$ for $\Phi_{(\Delta \bullet (B \bullet C) \bullet [[J P]]),\Delta,[[J P]]} (id_{\Delta}\bullet id_{B \bullet C} \bullet id_{J\Psi})$ we have 
$\Phi_{A, \Delta,[[J P]]}(d) = d; \bigoplus$. Finally, given the morphism $\psi_{\Delta,B,C,P} : ((\Delta \bullet B) \bullet C) \bullet [[J P]] \rightarrow \Delta \bullet (B \bullet C) \bullet [[J P]]$, which is natural in all arguments and is definable using $\mathsf{Split}$ and $\mathsf{Join}$, we define:
$$
\interp{[[x:A |-TL  D, e1 (+) e2 : B (+) C, [ J P ];. ]]} =_{df} \interp{[[x:A |-TL  D, e1 : B, e2 : C, [ J P ];. ]]};\psi;\bigoplus.
$$

\vspace{3ex}


\ref{lindisj}.2. {\em Par elimination}. The Par elimination rule has the form 
\begin{center} 
\AxiomC{$z:A\vdash_{\mathsf{L}} e: B\oplus C, \Delta_1;\Psi_1$}
\AxiomC{$x:B\vdash_{\mathsf{L}} \Delta_2;\Psi_2$}
\AxiomC{$y:C\vdash_{\mathsf{L}} \Delta_3; \Psi_3$}
\RightLabel{$\oplus$ E}
\TrinaryInfC{$z:A\vdash_{\mathsf{L}} \Delta_1, [\mathtt{casel} e/x] \Delta_2, [\mathtt{caser} e/y]\Delta_3; \Psi_1 \cdot \Psi_2\cdot \Psi_3$}
\DisplayProof
\end{center}
This suggests an operation on Hom-sets of the form 
$$
\Psi_{A,\Delta,J\Psi}: \mathcal{L}(A, B\oplus C \bullet \Delta_1\bullet J\Psi_1)\times
\mathcal{L}(B, \Delta_2\bullet J\Psi_2)\times\mathcal{L}(C, \Delta_3\bullet J\Psi_3)\rightarrow 
\mathcal{L}(A, \Delta\,\bullet\, J\Psi)
$$
{\em natural in} $A,\Delta, J\Psi$ where we write $\Delta = \Delta_1, \Delta_2, \Delta_3$, $J\Psi = J\Psi_1,J\Psi_2, J\Psi_3$. Given morphisms 
$$g:A\rightarrow B\oplus C \bullet \Delta_1\bullet J\Psi_1, \quad e: B\rightarrow\Delta_2\bullet J\Psi_2 \quad
 \hbox{ and } f: C\rightarrow \Delta_3\bullet J\Psi_3$$ and also $a: A'\rightarrow A$, 
$d_1:\Delta_1\rightarrow \Delta_1'$, 
$d_2: \Delta_2 \rightarrow \Delta_2'$ and $d_3: \Delta_3 \rightarrow \Delta_3'$,  $p_1: J\Psi_1\rightarrow J\Psi_1'$, 
$p_2: J\Psi_2 \rightarrow J\Psi_2'$ and $p_3: J\Psi_3 \rightarrow J\Psi_3'$
naturality yields
\begin{center}
\begin{tabular}{rl}
$\Psi_{A',\Delta',\Gamma',J\Psi'}\bigl((a;g; id_{B\oplus C} \bullet d_1 \bullet p_1 ), (e;d_2\bullet p_2),$ & 
$(f;d_3\bullet p_3)\bigr)$ =\\ 
$a; \Psi_{A,\Delta,J\Psi}(g,e,f);$ & 
$d_1 \bullet d_2\bullet d_3\bullet p_1\bullet p_2\bullet p_3; \mathtt{Join}(\Delta',J\Psi').$
\end{tabular}
\end{center}
In particular, set $$e = id_B, \quad f = id_{\mathsf{C}}$$ and also $a = id_A$, $d_i = id_{\Delta_i}$, $p_i = id_{J\Psi_i}$ we get 
$$
\Psi_{A,\Delta J\Psi}(g, e, f) = \Psi_{A,\Delta, J\Psi}(g, id_B, id_{\mathsf{C}}); 
id_{\Delta}\bullet c\bullet d; \mathtt{Join}(\Delta, J\Psi) 
$$
where the operation $\mathtt{Join}$ implements associativity.
Writing $(g)^{\ast}$ for $\Psi_{D,\Delta}(g, id_B, id_{\mathsf{C}})$ we define
\begin{center}
\begin{tabular}{l}
$[\![z:A\vdash_{\mathsf{L}} \Delta_1, [\mathtt{casel}\ e/x]\Delta_2, [\mathtt{caser}\ e/y] \Delta_3; \Psi_1, \Psi_2, \Psi_3]\!]=_{df}$\\
$[\![z:A\vdash_{\mathsf{L}} \Delta_1, e, B\,\oplus\, C; \Psi_1]\!]^*; 
id_{\Delta_1}\bullet [\![x:B\vdash_{\mathsf{L}} \Delta_2; \Psi_2]\!]\bullet[\![y:C\vdash_{\mathsf{L}} \Delta_3; \Psi_3]\!];
\mathtt{Join}(\Delta,J\Psi)$.\\
\end{tabular}
\end{center}

\vspace{3ex}


\ref{lindisj}.3. {\em Equations in context.} We have equations in context of the form
\begin{equation}\label{context:par}
%\framebox{\quad
\AxiomC{$\mathbf \oplus - \beta$ rules:}
\noLine
\UnaryInfC{$e\equiv\mathtt{casel}(e_1 \oplus e_2)\quad e' \equiv \mathtt{caser}(e_1 \oplus e_2)\hskip3in$}
\noLine
\UnaryInfC{$|\Delta_1| = |\Delta'_1|\ | \Psi_1| = |\Psi'_1| \hskip1in
x : A_1 \vdash_{\mathsf{L}} \Delta_2; J\Psi_2 = \Delta'_2; J\Psi'_2 \hskip1in$}
\noLine
\UnaryInfC{$|\Delta_2|=|\Delta'_2|\ |\Psi_2|=|\Psi'_2|\hskip1in y:A_2 \vdash_{\mathsf{L}} \Delta_3; J\Psi_3 =\Delta'_3; J\Psi'_3\hskip1in$}
\noLine
 \UnaryInfC{$|\Delta_3|=|\Delta_3'|\ |\Psi_3|=|\Psi'_3| \quad
z:B \vdash_{\mathsf{L}} e_1 :A_1,e_2 :A_2, \Delta_1; J\Psi_1 = e'_1 :A_1,e'_2 :A_2,\Delta'_1;J\Psi'_1$}
\UnaryInfC{$z:B\vdash_{\mathsf{L}} \Delta_1,[e/x]\Delta_2,[e'/x]\Delta_3;\Psi_1,[e/x]\Psi_2,[e'/x]\Psi_3 =$}
\noLine
\UnaryInfC{$\hskip.5in = \Delta'_1, [e'_1/x]\Delta_2,[e'_2/x]\Delta′_3;\Psi′_1,[e'_1/x]\Psi'_2,[e'_2/x]\Psi'_3$}
\DisplayProof
\end{equation}
Let 
$$
q: B\rightarrow A_1\bullet A_2 \bullet \Delta_1\bullet J\Psi,\qquad m:A_1\rightarrow\Delta_2\bullet J\Psi_2 \quad
\hbox{ and }\quad  
n: A_2\rightarrow\Delta_3\bullet J\Psi_3.
$$
Then to satisfy the above equations in context we need that the following diagram commutes:
\begin{center}
$\xymatrix@R=.4in{B\ar[r]^(.25){q} & \Delta_1\bullet J\Psi_1\bullet (A_1\bullet A_2) \ar[d]_{\oplus} \ar[rr]^(.4){id_{\Delta_1}\bullet m\bullet n} &
&\Delta_1\bullet J\Psi_1\bullet\Delta_2\bullet J\Psi_2\bullet \Delta_3\bullet J\Psi_3\\
&\Delta_1\bullet  J\Psi_1\bullet A\oplus B \ar[rr]_{\ast} & &\Delta_1\bullet  J\Psi_1\bullet A\bullet B \ar[u]_{id_{\Delta_1}\bullet m\bullet n}\\}$
\end{center}   
We make the assumption that the above decomposition is unique. 
Moreover, supposing $\Delta_1$ to be empty and $m = id_A$, $n = id_B$, $q = id_A\bullet id_B = id_{A\bullet B}$ 
we obtain $(id_A\bullet id_B; \mathbf{\bigoplus})^{\ast} = id_A\bullet id_B$ and similarly 
$(id_{A \oplus B})^*; \mathbf{\bigoplus} = id_{A \oplus B}$; hence we may conclude that there is a natural isomorphism 
\begin{center}
\AxiomC{$D \rightarrow \Gamma\bullet A\bullet B$}
\doubleLine
\UnaryInfC{$D \rightarrow \Gamma\bullet A\oplus B$}
\DisplayProof
\end{center}
so we can identify $\bullet$ and $\oplus$. Finally we see that the following $\eta$ equation in context 
is also satisfied:  
\begin{equation}\label{eta:par}
\quad\framebox{
\AxiomC{$\oplus - \eta$ rule}
\noLine
\UnaryInfC{$|\Delta| = |\Delta'| \quad|\Psi| = |\Psi'| \quad z:B \vdash_{\mathsf{L}} \Delta; \Psi = \Delta'; \Psi'$}
\UnaryInfC{$z:B \vdash_{\mathsf{L}} (\mathtt{casel\, e}\oplus\mathtt{caser}\, e): A_1\oplus A_2, \Delta; \Psi = e:A_1\oplus A_2, \Delta'; \Psi'$}
\noLine
\UnaryInfC{\strut}
\DisplayProof
}
\end{equation}

\subsubsection{Linear subtraction}\label{linsubtr}
\ref{linsubtr}.1. {\em Subtraction introduction.} The introduction rule for subtraction has the form 
\begin{center} 
\AxiomC{$x:A\vdash_{\mathsf{L}} \Delta_1, e: B; \Psi_1$}
\AxiomC{$y:C\vdash_{\mathsf{L}} \Delta_2; \Psi_2\quad |\Psi_1 | = |\Psi_2|$}
\RightLabel{$L sub I$}
\BinaryInfC{$x:A\vdash_{\mathsf{L}} \Delta_1, \mathtt{mkc}(e,y) : B \lsub C, [y(e)/y]\Delta_2; \Psi_1\cdot [y(e)/y]\Psi_2$}
\DisplayProof
\end{center}
This suggests a natural transformation with components
$$
\Phi_{A, \Delta,J\Psi}: \mathcal{L}(A, \Delta_1\bullet B\bullet J\Psi_1)\times\mathcal{L}(C, \Delta_2\bullet J\Psi_2) \rightarrow 
\mathcal{L}(A, \Delta_1\bullet (B\lsub C)\bullet \Delta_2\bullet J\Psi_1\bullet J\Psi_2)
$$
natural in $A, \Delta_1, \Delta_2, J \Psi_1, J\Psi_2$.
Taking morphisms 
$$e: A\rightarrow \Delta_1\bullet B \bullet J\Psi_1, \quad  f:C\rightarrow \Delta_2 \bullet J\Psi_2$$ 
and also $a: A'\rightarrow A$, $d_1:\Delta_1\rightarrow \Delta_1'$, 
$d_2: \Delta_2\rightarrow \Delta_2'$, $p_1: J\Psi_1\rightarrow J\Psi_1'$, $p_2: J\Psi_2\rightarrow J\Psi_2'$, 
by naturality we have
\begin{center}
\begin{tabular}{c}
$\Phi_{A', \Delta_1',\Delta'_2, J\Psi'_1J\Psi'_2}\left((a; e; d_1\bullet id_B\bullet p_1), (f;d_2;p_2)\right) =\qquad\qquad $\\
$\qquad\qquad = a; \Phi_{A,\Delta, J\Psi}(e, f); d_1\bullet d_2\bullet id_{B\lsub C}; 
\mathtt{Join}(\Delta_1',\Delta_2', B\lsub C, J\Psi_1', J\Psi_2')$
\end{tabular}
\end{center}
In particular, taking $a=id_A$, $d_1=id_{\Delta_1}$, $p_1 = id_{J\Psi_1}, p_2 = id_{J\Psi_2}$ but 
$d_2: C\rightarrow\Delta_2\cdot J\Psi_2$ and $f= id_{\mathsf{C}}$ we have:
\begin{center}
\begin{tabular}{c}
$\Phi_{A, \Delta_1, \Delta_2, J\Psi_1, J\Psi_2}(e, d_2) = \Phi_{A,\Delta_1} (e, id_{\mathsf{C}}); 
id_{\Delta_1}\bullet d_2 \bullet id_{A\lsub B}\bullet id_{J\Psi_1}\bullet id{J\Psi_2}; $\\
$\hskip2in\mathtt{Join}(\Delta_1, \Delta_2, A\lsub B, J\Psi_1, J\Psi_2)$\\
\end{tabular}
\end{center}
Writing $\mathbf{MKC}^C_{A,\Delta_1,J\Psi_1}(e)$ for $ \Phi_{A,\Delta_1 J\Psi_1} (e, id_{\mathsf{C}})$, 
$\Phi_{A, \Delta, J\Psi}(e, d_2)$ can be expressed as the composition 
$$
\mathbf{MKC}^C_{A,\Delta_1, J\Psi_1}(e); id_{\Delta_1}\bullet d_2\bullet id_{B\lsub C}
$$ 
where $\mathbf{MKC}^C_{A,\Delta_1, J\Psi_1}$ is a natural transformation with components 
$$
\mathcal{L}(A, \Delta_1\bullet B\bullet J\Psi)\times\mathcal{L}(C, C) \rightarrow 
\mathcal{L}(A, \Delta_1\bullet C \bullet C\lsub C)
$$
so we make the definition 
\begin{center}
\begin{tabular}{l}
$[\![x:A \vdash_{\mathsf{L}} \Delta_1, \mathtt{mkc}(e,y):\, B\lsub C, [y(e)/y+\Delta_2; \Psi_1\cdot [y(e)/y] \Psi_2]\!] =_{df}$\\
\quad $\mathbf{MKC}^C_{A,\Delta_1,J\Psi_1}[\![x:A\vdash_{\mathsf{L}}\Delta_1, e_1:B]\!];
id_{\Delta}\bullet [\![y:C\vdash_{\mathsf{L}}\Delta_2; \Psi_2]\!]\bullet id_{B\lsub C}; $\\
$\hskip2in \mathtt{Join}(\Delta_1,\Delta_2, B\lsub C, J\Psi_1, J\Psi_2)$\\
\end{tabular}
\end{center}
Notice that $\mathbf{MKC}^C_{A,\Delta_1, J\Psi_1}$ corresponds to the one-premise form of the 
subtraction introduction rule
\begin{center} 
\AxiomC{$x:A\vdash_{\mathsf{L}} \Delta_1, e: B; \Psi_1$}
\RightLabel{$L sub I$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta_1, \mathtt{mkc}(e,y) : B \lsub C, y(e): C; \Psi_1$}
\DisplayProof
\vspace{3ex}
\end{center}
which is equivalent in terms of provability to the more general form considered here (cfr Crolard 2004).

\vspace{1ex}


\ref{linsubtr}.2. {\em Subtraction elimination.} The subtraction elimination rule has the form 
\begin{center} 
\AxiomC{$x:A\vdash_{\mathsf{L}} \Delta_1, e_1: B\lsub C; \Psi_1$}
\AxiomC{$y:B\vdash_{\mathsf{L}} e_2:C, \Delta_2; \Psi_2\quad |\Psi_1| = |\Psi_2|$}
\RightLabel{$\smallsetminus$ E}
\BinaryInfC{$x:A\vdash_{\mathsf{L}}  \mathtt{postp}(y\mapsto e_2, e_1), \Delta_1, [y(e_1)/y]\Delta_2; 
\Psi_1, [y(e_1)/y]\Psi_2$} 
\DisplayProof
\end{center}
This suggests a natural transformation with components
$$
\Psi_{A,\Delta_1, \Delta_2, J\Psi_1, J\Psi_2}: \mathcal{L}(A, \Delta_1\bullet (B\lsub C)\bullet J\Psi_1)\times
\mathcal{L}(B, C\bullet\Delta_2\bullet J\Psi_2) \rightarrow 
\mathcal{L}(A,  \Delta_1\bullet \Delta_2\bullet J\Psi_1\bullet J\Psi_2)
$$
natural in $A, \Delta_1, \Delta_2, J\Psi_1, J\Psi_2$. Here $\mathtt{postp}(y\mapsto e_2, e_1)$ is given 
type $1$ and an application of left identity $\lambda_{1,\Delta_2}$ is assumed implicitly. 

\vspace{1ex}

 
Given 
$$e: A\rightarrow \Delta_1\bullet (B\lsub C) \bullet J\Psi_1,\qquad  
f: B\rightarrow C\bullet \Delta_2\bullet J\Psi_2
$$ and also $a: A'\rightarrow A$, $d_1: \Delta_1\rightarrow\Delta_1'$, 
$d_2:\Delta_2\rightarrow\Delta_2'$, $p_1: J\Psi_1 \rightarrow J\Psi'_1$ $p_2: J\Psi_2 \rightarrow J\Psi'_2$
naturality yields 
\begin{center}
\begin{tabular}{l}
$\Psi_{A', \Delta_1',\Delta_2', J\Psi_1', J\Psi_2'}\left((a; e; d_1\bullet id_{B\lsub C}\bullet p_1), (f; id_{\mathsf{C}}\bullet d_2\bullet p_2)\right) = $\\
$a; \Psi_{A, \Delta_1,\Delta_2,J\Psi_1}(e, f);\lambda_{1,\Delta_1} \bullet d_1\bullet d_2\bullet p_1\bullet p_2; \mathtt{Join}(\Delta_1',\Delta_2', J\Psi_1,J\Psi_2)$
\end{tabular}
\end{center}
In particular, taking $a: A\rightarrow \Delta_1\bullet(B\lsub C)$, 
$e = id_{\Delta_1\bullet(B\lsub C)}$, $d_1= id_{\Delta_1}$, $d_2: id_{\Delta_2}$, $p_1 = id_{J\Psi_1}$, $p_2 = id{J\Psi_2}$ we obtain
$$
\Psi_{A, \Delta_1,\Delta_2}(a, f) = a; \Psi_{A, \Delta_1,\Delta_2}(id_{\Delta_1\bullet(C\lsub D)\bullet id_{J\Psi_1}}, f); \mathtt{Join}(\Delta_1,\Delta_2, J\Psi_1, J\Psi_2)
$$
Writing $\mathbf{POSTP}(f)$ for $\Psi_{A, \Delta_1,\Delta_2,J\Psi_1, J\Psi_2}(id_{\Delta_1\bullet(B\lsub C)\bullet J\Psi_1}, f)$
we define 
\begin{center}
\begin{tabular}{l}
$[\![x:A \vdash_{\mathsf{L}} \Delta_1, \mathtt{postp}(y\mapsto e_2, e_1), [y(e_1)/y]\Delta_2; \Psi_1, [y(e_1)/y], \Psi_2]\!] =_{df}$\\
\quad $[\![x:A\vdash_{\mathsf{L}} \Delta_1, e_1: B\lsub C]\!]; id_{\Delta_1}\bullet
\mathbf{POSTP}[\![y:B \vdash_{\mathsf{L}} e_2: C,\Delta_2; \Psi_2]\!]; \mathtt{Join}(\Delta_1,\Delta_2,J\Psi_1,J\Psi_2)$ 
\end{tabular}
\end{center}

\vspace{1ex}


\ref{linsubtr}.3. {\em Equations in context.}  We have equations in context of the form 
\begin{equation}\label{context:sub}
\framebox{\AxiomC{$\mathbf \lsub - \beta$ rules:}
\noLine
\UnaryInfC{$e_p\equiv \mathtt{postp}(z\mapsto e_2, \mathtt{mkc}(e_1,y))\quad e_z\equiv z(\mathtt{mkc}(e_1,y))\hskip1in $}
\noLine
\UnaryInfC{$|\Delta_1| = |\Delta'_1|\ | \Psi_1| = |\Psi'_1| \qquad
x : B \vdash_{\mathsf{L}} e_1:A_1, \Delta_1; \Psi_1 = e'_1: A_1,\Delta'_1; \Psi'_1 $}
\noLine
\UnaryInfC{$\quad |\Delta_2|=|\Delta'_2|\ |\Psi_2|=|\Psi'_2|\qquad y:A_2 \vdash_{\mathsf{L}} \Delta_2; \Psi_2 =\Delta'_2; \Psi'_2
\hskip1in$}
\noLine
\UnaryInfC{$\hskip1.8in z:A_1 \vdash_{\mathsf{L}} e_2 :A_2, \Delta_3; \Psi_3 =e'_2 :A_2,\Delta'_3;\Psi'_3$}
\UnaryInfC{$x: B\vdash_{\mathsf{L}} \Delta_1. e_p, [y(e_1)/y]\Delta_2, [e_z/z]\Delta_3; \Psi_1, [y(e_1))y]\Psi_2, [e_z/z]\Psi_3 = $}
\noLine
\UnaryInfC{$\qquad = \Delta'_1, [ [e'_1/z]e'_2/y]\Delta_2, [e'_1/z]\Delta'_3; \Psi'_1, [ [e'_1/z]e'_2/y]\Psi'_2, [e'_1/z]\Psi'_3$}
\DisplayProof
}
\end{equation}


We repeat the derivations of the redex and of the reductum.

\centerline{\bf Redex:}
{\small
\begin{center}
\AxiomC{$x:B \vdash_{\mathsf{L}} e_1:A_1, \Delta_1; \Psi_1\qquad y:A_2\vdash_{\mathsf{L}}\Delta_2; \Psi_2$}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \mathtt{mkc}(e_1, y): A_1\lsub A_2, \Delta_1, [y(e_1)/y]\Delta_2; \Psi_1,  [y(e_1)/y]\Psi_2$}
\AxiomC{$z:A_1\vdash_{\mathsf{L}} e_2:A_2, \Delta_3; \Psi_3$}
\BinaryInfC{$x:B\vdash_{\mathsf{L}} \Delta_1, 
\overbrace{\mathtt{postp}(z\mapsto e_2, \mathtt{mkc}(e_1,y))}^{e_p}, 
 [y(e_1)/y]\Delta_2,  [\overbrace{z(\mathtt{mkc}(e_1,y))}^{e_z}/z]\Delta_3 ;$}
\noLine
\UnaryInfC{$\hskip2in \Psi_1,  [y(e_1)/y]\Psi_2, [z(\mathtt{mkc}(e_1,y)/z)]:\Psi_3 $}
\DisplayProof
\end{center}}
\centerline{\bf Reductum:}
{\small
\begin{center}
\AxiomC{$x:B \vdash_{\mathsf{L}} e'_1:A_1, \Delta'_1; \Psi'_1\qquad  z:A_1\vdash_{\mathsf{L}} e'_2:A_2, \Delta'_3; \Psi'_3$}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \Delta'_1, [e'_1/z]\Delta'_3,       [e'_1/z]e'_2 : A_2; \Psi'_1,  [e'_1/z]\Psi'_3$}
\AxiomC{$y:A_2\vdash_{\mathsf{L}} \Delta_2; \Psi_2$}
\BinaryInfC{$x:B \vdash_{\mathsf{L}}\Delta'_1, [ [e'_1/z]e'_2/y]\Delta'_2,\ [e'_1/z]\Delta'_3; \Psi'_1,[ [e'_1/z]e'_2]\Psi'_2,\ [e'_1/z]\Psi'_3$}
\DisplayProof
\end{center}}


\vspace{1ex}


Given morphisms $n: B\rightarrow \Delta_1\bullet A_1$ and $m: A_1\rightarrow \Delta_3\bullet A_2$, for these equations to be satisfied we need the following diagram to commute (omitting non-linear terms):
\begin{center}
$\xymatrix@R=.4in{B\ar[d]_{\mathbf{MKC}^{A_2}(n)} \ar[rr]^n &\qquad & 
\Delta_1\bullet A_1\ar[d]^{id_{\Delta_1}\bullet m}\\
\Delta_1\bullet(A_1\lsub A_2)\bullet A_2\ar[rr]_{\mathbf{POSTP}(m)\bullet id_{A_2}} &&\Delta_1\bullet\Delta_3\bullet A_2\\
}$
\end{center}
in particular, taking $n = id_{A_1}$ we have 
\begin{center}
$\xymatrix@R=.4in{A_1 \ar[d]_{\mathbf{MKC}^A_2(id_{A_1})}\ar[r]^m&\Delta_3\bullet A_2\\
(A_1\lsub A_2)\bullet A_2 \ar[ur]|{\mathbf{POSTP}(m)\bullet id_{A_2}} &\\
}$
\end{center}
Assuming the above decomposition to be unique, we can show that the $\eta$ equation in context
is also satisfied:     
\begin{equation}\label{eta:subtr}
\framebox{\small 
\AxiomC{$|\Delta| = |\Delta'| \quad |\Psi| = |\Psi'|\quad z;B \vdash_{\mathsf{L}} \Delta, \Psi = \Delta', \Psi'$}
\UnaryInfC{$z:B \vdash_{\mathsf{L}} \mathtt{postp}(x\mapsto y,e), \mathtt{mkc}(x(e),y): A_1\lsub A_2, \Delta, \Psi = 
e: A_1\lsub A_2, \Delta'; \Psi'$}
\DisplayProof
}
\end{equation}
and conclude that there is a natural isomorphism between the maps 
\begin{center}
\AxiomC{$A \rightarrow \Delta\bullet B$}
\doubleLine
\UnaryInfC{$A\lsub B\rightarrow \Delta$}
\DisplayProof
\end{center}
i.e., that $\lsub$ is the left adjoint to the bifunctor $\bullet$.  
%
%
%
%
\subsubsection{Unit rules}
\label{units}  The introduction and elimination rules for the unit $\bot$ are
\begin{center}
\begin{tabular}{cc} 
\\
\AxiomC{$\bot$ {\em introduction}}
\noLine
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta; \Psi\quad r: B \in \Delta,\ \hbox{or}\  r:S \in \Psi$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta, \mathtt{connect}_{\bot}\ \mathtt{to}(r):\,\bot; \Psi$}
% \noLine
% \UnaryInfC{where $R \in \kappa$.}
\DisplayProof \quad
&\quad
\AxiomC{$\bot$ {\em elimination}}
\noLine
\UnaryInfC{$x:A \vdash_{\mathsf{L}}  \Delta,  e:\bot; \Psi$}
\UnaryInfC{$x:A \vdash_{\mathsf{L}} \Delta, \mathtt{postp_{\bot}}(e); \Psi$}
\DisplayProof
\\
\end{tabular} 
\end{center}
The introduction % and the elimination rules
rule can be interpreted by a map $a: A \rightarrow 1$.
% , if we give the term $\mathtt{postp_{\bot}}(e)$ the type $\bot$. However, it is a syntactic requirement that 
% in the case of an elimination the type $\bot$ cannot be a subtype of another type. 
The elimination rule can also be interpreted as a map $\langle \rangle: A \rightarrow \bot$ if we give the 
term $\mathtt{postp_{\bot}}(e)$ the type $\bot$. in presence of a nonempty linear context $Delta$ one can compose with  
the natural isomorphism  $\lambda_{\Delta}$ yielding $id_{\Delta}\bullet \langle\rangle;\lambda_{\Delta}$.

\vspace{1ex}

 
The introduction rule requires a natural transformation with components
\begin{center}
$\Phi_{A,\Delta\bullet J\Psi}: \mathcal{L}(A, \Delta, J\Psi)\rightarrow \mathcal{L}(A, \Delta\bullet \bot\bullet J\Psi)$
\end{center}
natural in $A$, $\Delta$, $J\Psi$. Given morphisms $e:A\rightarrow \Delta\bullet J\Psi$, $d:A'\rightarrow A$, $c:\Delta\rightarrow\Delta'$ and $p:J\Psi\rightarrow J\Psi'$, naturality yields
\begin{center}
$\Phi_{A', \Delta',J\Psi'}(d;e;c\bullet p) = d;\Phi_{A, \Delta, J\Psi}(e);c\bullet p$.
\end{center} 
Letting $d:A\rightarrow\Delta\bullet J\Psi$ and $e = id_{\Delta\bullet J\Psi}$, $c = id_{\Delta\bullet\bot}$, $p = id_{J\Psi}$ we have 
$$\Phi_{A, \Delta,J\Psi}(d) = d;\mathbf{Bot}_{\Delta,J\Psi}$$
where we write $\mathbf{Bot}_{\Delta,J\Psi}$ for $\Phi_{\Delta,J\Psi}(id_{\Delta},id_{J\Psi})$.
We define 
$$
[\![x:A\vdash_{\mathsf{L}} \Delta, \/ \mathtt{connect\ to}(x):\bot; J\Psi]\!] =_{df} 
[\![x:A\vdash_{\mathsf{L}} \Delta, J\Psi]\!];\mathbf{Bot}_{\Delta,J\Psi}. 
$$
\ref{units}.2. {\em Equations in context.}

The equation in context        
 \begin{equation}\label{context:bot}
 \framebox{\quad
\AxiomC{\bf $\bot - \beta$ rule}
\noLine
 \UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta; \Psi = \Delta'; \Psi'$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta, \mathtt{postp}_{\bot}(\mathtt{connect}_{\bot}\ \mathtt{to}(x)); \Psi = \Delta'; \Psi'$}
 \DisplayProof
 \quad}
 \end{equation}
requires that for any $m: A\rightarrow \Delta$ the following diagram commutes (where we assume $\Psi$ to be empty): 
\begin{center}
$\xymatrix@R=.4in{A \ar[r]^{m;\mathbf{Bot}} \ar[dr]_m& 
\Delta\bullet\bot\ar[d]^{id_{\Delta}\bullet \langle\rangle;\lambda_{\Delta}}\\
&\Delta.\\}$
\end{center}
Assuming that this decomposition is unique and taking $m = id_A$ we have that 
$\mathbf{Bot}_A; id_A\bullet\langle\rangle;\lambda_A = id_A$. Arguing as before, 
we see that there is a natural isomorphism 
\begin{center}
\AxiomC{$D\rightarrow\Gamma\bullet 1$}
\doubleLine
\UnaryInfC{$D\rightarrow\Gamma\bullet \bot$}
\DisplayProof
\end{center}
(so we identify $\bot$ and 1) and that the following equation in context is satisfied:
\begin{equation}\label{eta:bot}
\quad\framebox{
\AxiomC{\bf $\bot - \eta$ rule:}
\noLine
\UnaryInfC{$z:B \vdash_{\mathsf{L}} \Delta ; \Psi = \Delta'; \Psi'$}
\UnaryInfC{$z:B \vdash_{\mathsf{L}} \mathtt{connect}_{\bot}\ \mathtt{to}(x): \bot, \mathtt{postp}_{\bot}(e) \Delta; \Psi= \bot
e: \bot,  \Delta'; \Psi'$}
\DisplayProof
\quad}
\end{equation} 

\subsubsection{Functors}\label{functors}

Recall that a model of Linear-Non Linear co-intuitionistic logic consists of  a symmetric comonoidal adjunction 
$\mathcal{L} : H \dashv  J : \mathcal{C}$ where $\mathcal{L} = (\mathcal{L}, \bot, \oplus, \limp)$ 
is a symmetric monoidal coclosed category and $\mathcal{C} = (\mathcal{C}, 0, +, -)$
 is a cocartesian coclosed category.

We use the same symbols for the functors
$J: \mathcal{C} \rightarrow \mathcal{L}$ and $\mathcal{H}: \mathcal{L} \rightarrow  \mathcal{C}$ 
in the models and for the operators that represent them in the language.

\vspace{1ex}

\ref{functors}.1 {\em rules for $J: \mathcal{C} \rightarrow \mathcal{L}$.} 
\begin{equation}
\framebox{
\AxiomC{\it $J$ introduction}
\noLine
\UnaryInfC{$x:A \vdash_{\mathsf{L}} ,\Delta; t:T, \Psi$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta, Jt: JT; \Psi$}
\DisplayProof
}
\end{equation}
If $\Delta = \overline{R}: \Delta$ and $\Psi = \overline{S}: \Psi$, then the categorical interpetation of the rule is 
an application of $\alpha^{-1}$: 
\begin{center}
\AxiomC{$\xymatrix@R=.4in{A\ar[rr]^{\overline{R} \bullet Jt \bullet J\overline{S}} & &\Delta\bullet JT \bullet J\Psi}$}
\UnaryInfC{$\xymatrix@R=.4in{A\ar[rr]^{(\overline{R} \bullet Jt )\bullet J\overline{S}} & &(\Delta\bullet JT) \bullet J\Psi}$}
\DisplayProof
\end{center}


\begin{equation}
\framebox{
\AxiomC{\it $J$ elimination}
\noLine
\UnaryInfC{$x:A \vdash_{\mathsf{L}} \Delta, e: JT;\Psi_1\qquad  y:T \vdash_{\mathsf{C}} \Psi_2\ \hbox{where}\ |\Psi_1|=|\Psi_2|$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta; \Psi_1 \cdot \mathtt{let}\ Jy = e\  \mathtt{in}\ \Psi_2$}
\DisplayProof
}
\end{equation}
If $\Delta = \overline{R}: \Delta$,  $\Psi_1 = \overline{R'}: \Psi_1$, $\Psi_2 = \overline{S}:\Psi_2$, 
then the categorical interpretation of the rule is given by an operation of the form 
\[
\mathcal{L}(A, \Delta\bullet JT\bullet J\Psi_1) \times \mathcal{C}(T, \Psi_2)\rightarrow 
\mathcal{L}(A, \Delta\bullet J\Psi_1\bullet J\Psi_2) 
\]
given by the following compositions
\begin{center}
\AxiomC{$\xymatrix@R=.4in{A \ar[rr]^{\overline{R}\bullet e \bullet J\overline{R}'} && \Delta\bullet JT\bullet J\Psi_1}$}
\AxiomC{$\xymatrix@R=.4in{T \ar[r]^{\overline{S}} & \Psi_2} \quad \hbox{in} \  \mathcal{C}$}
\UnaryInfC{$\xymatrix@R=.4in{JT \ar[r]^{\overline{JS}}& J\Psi_2} \quad \hbox{in} \  \mathcal{L}$}
\BinaryInfC{$\xymatrix@R=.1in@C=.6cm{A \ar[rr]^{\overline{R}\bullet e \bullet J(\overline{R}')\quad} &
& \Delta\bullet J(T) \bullet J(\Psi_1) 
\ar[rrr]^{id_{\Delta}\bullet J(\overline{S}) \bullet id_{J(\Psi_1)}}&&&\Delta\bullet J(\Psi_1)\bullet J(\Psi_2)
\ar[rr]^{id_{\Delta} \bullet j^{-1}_{\Psi_1\Psi_2}} &&\Delta\bullet J(\Psi_1+\Psi_2)}$}
\noLine
\UnaryInfC{\hskip3in since $|\Psi_1| = |\Psi_2|, \quad \xymatrix@R=.1in@C=.6cm{ 
\ar[rr]^{id_{\Delta}\bullet\nabla_{\Psi_1}} &&\Delta \bullet J(\Psi_1)}$}
\DisplayProof
\end{center}

\vspace{3ex}


\ref{functors}.2 {\em rules for $H: \mathcal{L} \rightarrow \mathcal{C}$.} 
\begin{equation}
\framebox{
\AxiomC{\it $H$ intro}
\noLine
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \overline{R}: \Delta, e: B; \Psi$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \overline{R}: \Delta;He:HB, \Psi$}
\DisplayProof
}
\end{equation}
Let $\Delta = \overline{R}: \Delta$ and  $\Psi = \overline{S}:\Psi$: then 
\begin{center}
\AxiomC{$\xymatrix@R=.1in@C.5cm{A \ar[rr]^{\overline{R}\wp e\wp J(\overline{S})\quad}&&
\Delta \bullet B \bullet  J(\Psi)}$}
\RightLabel{using $\eta_B: B \rightarrow JHB$}
\UnaryInfC{$\xymatrix@R=.1in@C.5cm{A \ar[rrr]^{\overline{R}\wp JH(e) \bullet J(\overline{S})\quad}&&
& \Delta\bullet JH(B)\bullet J(\Psi)}$}
\DisplayProof
\end{center}

\vspace{3ex}
 
\begin{equation}
\framebox{
\AxiomC{\it $H$ elim$_1$}
\noLine
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \Delta ;  t:HA, \Psi_1\qquad y:A\vdash_{\mathsf{L}} ·; \Psi_2 \quad \hbox{where}\ |\Psi_1|=|\Psi_2|$}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \Delta; \Psi_1 \cdot (\mathtt{let}\ Hy=t\ \mathtt{in}\ \Psi_2)$}
\DisplayProof
}
\end{equation}

\begin{equation}
\framebox{
\AxiomC{\it $H$ elim$_2$}
\noLine
\UnaryInfC{$x:S \vdash_{\mathsf{C}} t:HA, \Psi_1\qquad y:A\vdash_{\mathsf{L}} ·; \Psi_2 \quad \hbox{where}\ |\Psi_1|=|\Psi_2|$}
\UnaryInfC{$x:S \vdash_{\mathsf{C}} \Psi_1 \cdot (\mathtt{let}\ Hy=t\ \mathtt{in}\ \Psi_2)$}
\DisplayProof
}
\end{equation}
The categorical interpretation of $H$ elim$_2$ is as follows:
Let $\Psi_1 = \overline{R}: \Psi_1$ and $\Psi_2 = \overline{S}: \Psi_2$. Then we have the following compositions: 
\begin{center}
\AxiomC{$\strut\quad$}
\noLine
\UnaryInfC{$\xymatrix@R=.1in@C.5cm{S \ar[rr]^{t + \overline{R}\quad}&& H(A) + \Psi}$}
\AxiomC{$\xymatrix@R=.1in@C.5cm{A \ar[rr]^{J(\overline{S})} && J(\Psi)}\quad \hbox{in}\ \mathcal{L}$}
\UnaryInfC{$\xymatrix@R=.1in@C.5cm{HA \ar[rr]^{HJ(\overline{S})} && HJ(\Psi) 
\ar[r]^{\quad\epsilon_{\Psi}} &\Psi}\quad \hbox{in}\ \mathcal{C}$}
\BinaryInfC{$\xymatrix@R=.1in@C.5cm{S \ar[rr]^{t + \overline{R}\quad}&& H(A) + \Psi
\ar[rrr]^{HJ(\overline{S}) + id_{\Psi}} &&& \Psi + \Psi \ar[r]^{\quad\nabla_{\Psi}}& \Psi }$}
\DisplayProof\\
\end{center}
% subsection categorical_interpretation_of_rules (end)

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: main.tex
%%% End: 

