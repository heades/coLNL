We now turn to developing the syntactic side of dual LNL models called
dual LNL logic (DLNL).  First, we give a sequent calculus
formalization which we will simply refer to as DLNL logic, then a
natural deduction formalization called DND logic, and finally a term
assignment to the natural deduction version.  Each of these systems
will consistently use the same syntax and naming conventions for
formulas, types, and contexts given by the following definition.
\begin{definition}
  \label{def:DLNL-syntax-formulas-ctx}
  The the syntax for formulas, types, and contexts are given as follows:
  \[
  \begin{array}{rllll}
    \text{(non-linear formulas/types)} & [[R]],[[S]],[[T]] ::= [[0]] \mid [[S + T]] \mid [[S - T]] \mid [[H A]]\\
    \text{(linear formulas/types)}     & [[A]],[[B]],[[C]] ::= [[False]] \mid [[A (+) B]] \mid [[A *- B]] \mid [[J S]]\\
    \text{(non-linear contexts)}       & [[P]],[[PI]] ::= [[.]] \mid [[T]] \mid [[P,PI]]\\
    \text{(linear contexts)}           & [[G]],[[D]]  ::= [[.]] \mid [[A]] \mid [[G,D]]\\
  \end{array}
  \]
\end{definition}
\noindent
The term assignment will index contexts by terms, but we will maintain
the same naming convention throughout.

\subsection{The Sequent Calculus for Dual LNL Logic}
\label{sec:sequent_calculus}

\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleCXXid{} \and
      \DualLNLLogicdruleCXXwk{} \and
      \DualLNLLogicdruleCXXcr{} \and
      \DualLNLLogicdruleCXXex{} \and
      \DualLNLLogicdruleCXXfL{} \and
      \DualLNLLogicdruleCXXdL{} \and
      \DualLNLLogicdruleCXXdROne{} \and
      \DualLNLLogicdruleCXXdRTwo{} \and
      \DualLNLLogicdruleCXXsL{} \and
      \DualLNLLogicdruleCXXsR{} \and
      \DualLNLLogicdruleCXXcut{} \and
      \DualLNLLogicdruleCXXhL{}     
    \end{mathpar}
  \end{mdframed}
  \caption{Non-linear fragment of the DLNL logic}
  \label{fig:non-linear-sequent}
\end{figure}

\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleLXXid{} \and
      \DualLNLLogicdruleLXXwk{} \and
      \DualLNLLogicdruleLXXctr{} \and
      \DualLNLLogicdruleLXXex{} \and
      \DualLNLLogicdruleLXXCex{} \and
      \DualLNLLogicdruleLXXcut{} \and
      \DualLNLLogicdruleLXXCcut{} \and
      \DualLNLLogicdruleLXXflL{} \and
      \DualLNLLogicdruleLXXflR{} \and
      \DualLNLLogicdruleLXXdROne{} \and
      \DualLNLLogicdruleLXXdRTwo{} \and
      \DualLNLLogicdruleLXXpL{} \and
      \DualLNLLogicdruleLXXpR{} \and
      \DualLNLLogicdruleLXXsL{} \and
      \DualLNLLogicdruleLXXsR{} \and
      \DualLNLLogicdruleLXXCsR{} \and
      \DualLNLLogicdruleLXXjL{} \and
      \DualLNLLogicdruleLXXjR{} \and
      \DualLNLLogicdruleLXXhR{}      
    \end{mathpar}
  \end{mdframed}
  \caption{Linear fragment of the DLNL logic}
  \label{fig:linear-fragment-sequent}
\end{figure}

In this section we take the dual of Benton's~\cite{Benton:1994}
sequent calculus for LNL logic to obtain the sequent calculus for dual
LNL logic.  The inference rules for the non-linear fragment can be
found in Figure~\ref{fig:non-linear-sequent} and the linear fragment
in Figure~\ref{fig:linear-fragment-sequent}. The remainder of this
section is devoted to proving cut-elimination.  However, the proof is
simply a dualization of Benton's~\cite{Benton:1994} proof of
cut-elimination for LNL logic.

Just as Benton we use $n$-ary cuts:
\[
\DualLNLLogicdruleCXXmcut{} \quad \DualLNLLogicdruleLXXCmcut{}
\]
where $S^n = S, \ldots, S$ $n$-times. We call $\DLNLP$ the system DLNL with $n$-cuts replacing 
ordinary 1-cuts. Such cuts are admissible in DLNL and cut-elimination for $\DLNLP$ implies 
cut-elimination for DLNL.

We begin with the a few standard definitions. The \emph{rank} of a
formula, denoted by $|A|$ or $|S|$, is the number of the logical
symbols in the given formula.  The \emph{cut-rank} of a derivation
$\Pi$, denoted by $c(\Pi)$, is the maximum of the ranks of the cut
formulas in $\Pi$ plus one; if $\Pi$ is cut-free its cut rank is 0.
Finally, the \emph{depth} of a derivation $\Pi$, denoted by $d(\Pi)$,
is the length of the longest path in $\Pi$.  The following three
results establishes cut elimination.

\begin{lemma}[Cut Reduction]
  \label{lemma:cut_reduction}
  The following defines the cut reduction procedure:
  \begin{enumerate}
  \item If $\Pi_1$ is a derivation of $[[T |-C P, S^n]]$ and  $\Pi_2$ is a derivation of $[[S |-C P']]$ with 
    $c(\Pi_1), c(\Pi_2) \leq |S|$, then there exists a derivation $\Pi$ of $T\vdash_{\mathsf{C}} \Psi, \Psi'$ with $c(\Pi) \leq |S|$;
  \item If $\Pi_1$ is a derivation of $T \vdash_{\mathsf{L}} \Delta; \Psi, S^n$ and  $\Pi_2$ is a derivation of $S \vdash_{\mathsf{C}}\Psi'$ with 
    $c(\Pi_1), c(\Pi_2) \leq |S|$, then there exists a derivation $\Pi$ of $T\vdash_{\mathsf{L}} \Delta; \Psi, \Psi'$ with $c(\Pi) \leq |S|$;
  \item If $\Pi_1$ is a derivation of $B\vdash_{\mathsf{L}} \Delta; \Psi, A^n$ and  $\Pi_2$ is a derivation of $A \vdash_{\mathsf{L}}\Delta', \Psi'$ with $c(\Pi_1), c(\Pi_2) \leq |S|$,
    then there exists a derivation $\Pi$ of $B\vdash_{\mathsf{C}}\Delta, \Delta', \Psi, \Psi'$ with $c(\Pi) \leq |A|$.
  \end{enumerate}
\end{lemma}
\begin{proof}
  By induction on $d(\Pi_1) + d(\Pi_2)$.  We give one case where the
  last inferences of $\Pi_1$ and $\Pi_2$ are logical inferences;
  please see
  Appendix~\ref{subsec:proof_of_cut_reduction_lemma:cut-reduction} for
  the complete proof.

\ \\
\noindent
$\lsub$ right / $\lsub$ left. We have 
\begin{center}
\begin{tabular}{c}
\AxiomC{$\pi_1$ }
\noLine
\UnaryInfC{$A \vdash_{\mathsf{L}} \Delta_1; \Psi_1, B_1$}
 \AxiomC{$\pi_2$ } 
\noLine
\UnaryInfC{$B_2 \vdash_{\mathsf{L}} \Delta_2; \Psi_2$}
\LeftLabel{$\Pi_1 =$}
\RightLabel{$\DualLNLLogicdruleLXXsRName$}
\BinaryInfC{$A \vdash_{\mathsf{L}} B_1 \lsub B_2,  \Delta_1, \Delta_2; \Psi_1, \Psi_2$}
% 
\AxiomC{$\pi_3$}
\noLine
\UnaryInfC{$B_1 \vdash_{\mathsf{L}} B_2, \Delta ;  \Psi$}
\LeftLabel{$\Pi_2 =$}
\RightLabel{$\DualLNLLogicdruleLXXsLName$}
\UnaryInfC{$B_1 \lsub B_2 \vdash_{\mathsf{L}} \Delta ; \Psi$}
\RightLabel{$\DualLNLLogicdruleLXXcutName$}
\BinaryInfC{$A \vdash_{\mathsf{L}} \Delta_1, \Delta_2, \Delta ; \Psi_1, \Psi_2, \Psi$}
\DisplayProof\\
\\
reduces to $\Pi$ 
\\
\\
\AxiomC{$\pi_1$}
\noLine
\UnaryInfC{$A\vdash_{\mathsf{L}} \Delta_1, B_1; \Psi_1$}
 \AxiomC{$\pi_3$}
\noLine
\UnaryInfC{$B_1 \vdash_{\mathsf{L}} B_2, \Delta ;  \Psi$}
% \LeftLabel{$\Pi'$}
\RightLabel{$\DualLNLLogicdruleLXXcutName$}
\BinaryInfC{$A\vdash_{\mathsf{L}} \Delta_1, \Delta, B_2; \Psi_1,\Psi$}
 \AxiomC{$\pi_2$ } 
\noLine
\UnaryInfC{$B_2 \vdash_{\mathsf{L}} \Delta_2; \Psi_2$}
\RightLabel{$\DualLNLLogicdruleLXXcutName$}
\BinaryInfC{$A \vdash_{\mathsf{L}} \Delta_1, \Delta_2, \Delta; \Psi_1, \Psi_2, \Psi$}
\DisplayProof
\end{tabular}
\end{center}
The resulting derivation $\Pi$ has cut rank $c(\Pi) = max(|B_1|+1, c(\pi_1), c(\pi_2), |B_2|+1, c(\pi_3)) \leq |B_1\lsub B_2|$.  
\end{proof}

\begin{lemma}[Decrease in Cut-Rank]
  \label{lemma:decrease-cut-rank}
  Let $\Pi$ be a $\DLNLP$ proof of a sequent  $S \vdash_{\mathsf{C}} \Psi$ or $A \vdash_{\mathsf{L}} \Delta; \Psi$ with 
  $c(\Pi)>0$. Then there exists a proof $\Pi'$ of the same sequent with $c(\Pi') < c(\Pi)$. 
\end{lemma}
\begin{proof} 
  By induction on $d(\Pi)$. If the last inference is not a cut, then we apply the 
  induction hypothesis. If the last inference is a cut on a formula $A$, but $A$ is not of maximal rank
  among the cut formulas, so that $c(\Pi) > |A|+1$, then we apply the induction hypothesis. Finally,  
  if the last inference is a cut on $A$ and $c(\Pi) = |A| + 1$ we have the following situation:
  \begin{center}
    \AxiomC{$\Pi_1$}
    \noLine
    \UnaryInfC{$B \vdash_{\mathsf{L}} \Delta, A ; \Psi$}
    \AxiomC{$\Pi_2$}
    \noLine
    \UnaryInfC{$A \vdash_{\mathsf{L}} \Delta' ; \Psi'$}
    \LeftLabel{$\Pi =$}
    \RightLabel{$\DualLNLLogicdruleLXXcutName$}
    \BinaryInfC{$B \vdash_{\mathsf{L}} \Delta, \Delta'; \Psi, \Psi'$}
    \DisplayProof
  \end{center}
  Now since $c(\Pi_1), c(\Pi_2) \leq |A| + 1$ then by applying the
  induction hypothesis to the premises of the previous derivation we
  can construct derivations $\Pi'_1$ and $\Pi'_2$ with $c(\Pi'_1) \leq
  |A|$ and $c(\Pi'_2) \leq |A|$. Then by cut reduction we can
  construct a derivation $\Pi'$ proving $B \vdash_{\mathsf{L}} \Delta,
  \Delta'; \Psi, \Psi'$ with $c(\Pi') \leq |A|$ as required.
\end{proof}

\begin{theorem}[Cut Elimination]
  \label{thm:cut_elimination}
  Let $\Pi$ be a proof of a sequent $[[S |-C P]]$ or
  $[[A |-L D ; P]]$ such that $c(\Pi)> 0$. There is
  an algorithm which yields a cut free proof of the same sequent.
\end{theorem}
\begin{proof}
  By induction on $c(\Pi)$ using the previous lemma. 
\end{proof}

\begin{remark}
  \label{rem:additive-contexts}
  In DLNL logic contexts are treated multiplicatively. Some cases of
  the previous proof would be best treated with additive contexts, for
  instance non-linear disjunction elimination to match the categorical
  interpretation of disjunction as coproduct.  Of course additive
  contexts can be simulated using weakening and contraction.
\end{remark}
% subsection sequent_calculus (end)

\subsection{Sequent-style Natural Deduction}
\label{sec:sequent-style_natural_deduction}

The inference rules for the non-linear and linear fragments of the
sequent-style natural deduction formalization of DLNL (DND) can be
found in Figure~\ref{fig:non-linear-nd} and Figure~\ref{fig:linear-nd}
respectively.  Some of the inference rules are formulated
\emph{additively} instead of multiplicatively as we explained in the
previous section; see Remark~\ref{rem:additive-contexts}.
\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleNCXXid{} \and
      \DualLNLLogicdruleNCXXzE{} \and
      \DualLNLLogicdruleNCXXdIOne{} \and
      \DualLNLLogicdruleNCXXdITwo{} \and
      \DualLNLLogicdruleNCXXdE{} \and
      \DualLNLLogicdruleNCXXsubI{} \and
      \DualLNLLogicdruleNCXXsubE{} \and
      \DualLNLLogicdruleNCXXHE{}      
    \end{mathpar}
  \end{mdframed}
  \caption{Non-linear fragment of DND logic}
  \label{fig:non-linear-nd}
\end{figure}

\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleNLXXid{} \and
      \DualLNLLogicdruleNLXXpI{} \and
      \DualLNLLogicdruleNLXXpE{} \and
      \DualLNLLogicdruleNLXXparI{} \and
      \DualLNLLogicdruleNLXXparE{} \and
      \DualLNLLogicdruleNLXXsubI{} \and
      \DualLNLLogicdruleNLXXsubE{} \and
      \DualLNLLogicdruleNLXXJI{} \and
      \DualLNLLogicdruleNLXXJE{} \and
      \DualLNLLogicdruleNLXXHI{} \and
      \DualLNLLogicdruleNLXXHE{}      
    \end{mathpar}
  \end{mdframed}
  \caption{Linear fragment of DND logic}
  \label{fig:linear-nd}
\end{figure}

We now give a correspondence between DND and DLNL logic.  First, we
have several admissible rules.
\begin{lemma}[Admissible Rules in DND]
  \label{lemma:admissible_rules_in_dnd}
  The following rules are admissible in DND: 
  \begin{mathpar}
    \DualLNLLogicdruleNCXXweak{} \and
    \DualLNLLogicdruleNCXXcontr{} \and
    \DualLNLLogicdruleNCXXcut{} \and
    \DualLNLLogicdruleNLXXweak{} \and
    \DualLNLLogicdruleNLXXcontr{} \and
    \DualLNLLogicdruleNLXXCcut{} \and
    \DualLNLLogicdruleNLXXcut{}
  \end{mathpar}
\end{lemma}
Using these admissible rules we can construct a proof preserving
translation between DND and DLNL logic.
\begin{lemma}[Translations between DND and DLNL logic]
  \label{lemma:translations}
  There are functions $\mathcal{S}: DND \rightarrow DLNL$ 
  and $\mathcal{N}: DLNL \rightarrow DND$ from natural deduction to sequent 
  calculus derivations. 
\end{lemma}
\noindent
Notice that the right rules of the sequent calculus and the introductions of natural deduction
have the same form. Elimination rules are derivable from left rules with \emph{cut} and left 
rules are derivable using the admissible cut rule in DND. For instance, the $\DualLNLLogicdruleNCXXzEName$ rule 
\[ \DualLNLLogicdruleNCXXzE{} \]
is derivable in the sequent calculus as follows: 
\[
\AxiomC{$S\vdash_{\mathsf{C}} 0, \Psi$}
\AxiomC{$0\vdash S_1, \ldots S_n$}
\RightLabel{$\DualLNLLogicdruleCXXcutName{}$}
\BinaryInfC{$S\vdash_{\mathsf{C}} \Psi, S_1, \ldots S_n$}
\AxiomC{$ S_1 \vdash_{\mathsf{C}} \Psi_1$}
\RightLabel{$\DualLNLLogicdruleCXXcutName{}$}
\BinaryInfC{$S\vdash_{\mathsf{C}}  \Psi, \Psi_1, S_2, \ldots, S_n$}
\AxiomC{$\vdots$} 
\BinaryInfC{$S\vdash_{\mathsf{C}}  \Psi, \Psi_1, \ldots \Psi_{n-1}, S_n$}
\AxiomC{$S_n \vdash \Psi_n$} 
\RightLabel{$\DualLNLLogicdruleCXXcutName{}$}
\BinaryInfC{$S\vdash_{\mathsf{C}} \Psi, \Psi_1, \ldots \Psi_{n-1}, \Psi_n$ }
\DisplayProof
\]
% subsection sequent-style_natural_deduction (end)

\subsection{Term Assignment}
\label{sec:term_assignment}
We now turn to giving a term assignment to DND logic called TND.  The
most interesting aspect of this system is that there are multiple
conclusions, but only a single hypothesis.  TND is greatly influenced
by Crolard's~\cite{Crolard:2001} term assignment for subtractive logic
which is based on Parigot's~\cite{Parigot:1992} $\lambda\mu$-calculus.
Crolard shows that the theory of coroutines can be modeled by
co-intuitionistic logic, and it is this result we pull inspiration
from. In fact, this result shows that the reduction of a term in the
context may impact other terms in the context.

The syntax of TND terms is defined by the following definition.
\begin{definition}
  \label{def:TND-terms-syntax}
  The syntax for TND terms and typing judgments are given by the following grammar:
  \[
  \begin{array}{l}
    \begin{array}{cllllll}
    \text{(non-linear terms)} & [[s]],[[t]] & ::= & [[x]] \mid [[connectW to t]] \mid [[t1 * t2]] \mid
         [[false t]] \mid [[x(t)]] \mid [[mkc(t,x)]] \mid [[inl t]] \mid [[inr t]] \mid \\
         & & & [[case t of x.t1,y.t2]] \mid
         [[H e]] \mid [[let J x = e in t]] \mid [[postp(x -> t1,t2)]] \mid \\
         & & & [[let H x = t1 in t2]]\\
         \\
         \text{(linear terms)} & [[e]],[[u]] & ::= & [[x]] \mid [[connectP to e]] \mid [[postpP e]] \mid [[postp(x -> e1, e2)]] \mid [[mkc(e,x)]] \mid [[x(e)]] \mid \\
         & & & [[e1 (+) e2]] \mid [[casel e]] \mid [[caser e]] \mid [[J t]]\\         
  \end{array}
  \\\\
  \begin{array}{cll}
    \text{(non-linear judgment)} & [[x : R |-TC P]]\\
    \\
    \text{(linear judgment)} & [[x : A |-TL D;P]]\\
  \end{array}
  \end{array}
  \]
  Contexts, $[[D]]$ and $[[P]]$, are the straightforward extension
  where each type is annotated with a term from the respective
  fragment.
\end{definition}

To aid the reader in understanding the variable structure, which
variable annotations are bound, deployed throughout the TND term
syntax we give the definitions of the free variable functions in the
following definition.
\begin{definition}
The free variable functions, $FV(t)$ and $FV(e)$, for linear and
non-linear terms $t$ and $e$ are defined by mutual recursion as
follows:
\[ \small
\begin{array}{lll}  
  \begin{array}{lll}
    \textbf{linear terms:}\\
    \,\,FV([[x]])  = \{ [[x]]\}\\
    \,\,FV([[connectP to e]]) = FV(e) \\ 
    \,\,FV([[x(e)]]) = FV(e)\\
    \,\,FV([[mkc(e,y)]]) = FV(e)\\
    \,\,FV([[e1 (+) e_2]]) = FV(e_1) \cup FV(e_2)\\
    \,\,FV([[casel e]]) = FV(e)\\
    \,\,FV([[caser e]]) = FV(e)\\    
    \,\,FV([[J t]]) = FV(t)\\
    \\
    \\
    \\[13px]
  \end{array}
  & \quad &  
  \begin{array}{lll}
    \textbf{non-linear terms:}\\
    \,\,FV(x) = \{ x\}\\
    \,\,FV([[connectW to t]]) = FV(t) \\ 
    \,\,FV([[t1 * t2]])  = FV(t_1)\cup FV(t_2) \\
    \,\,FV([[false t]])  = FV(t) \\
    \,\,FV([[x(t)]]) = FV(t)\\
    \,\,FV([[mkc(t,y)]]) = FV(t)\\
    \,\,FV([[inl t]]) = FV([[inr t]]) = FV(t)\\
    \,\,FV([[case t1 of x.t_2,y.t_3]]) = \\
    \,\,\,\,\,\,\,\,\,\,FV(t_1)\cup FV(t_2)\smallsetminus\{x\}\cup FV(t_3)\smallsetminus \{y\}\\
    \,\,FV([[let J y = e in t]]) = FV(e)\cup FV(t)\smallsetminus \{y\} \\
    \,\,FV([[let H y = t1 in t2]]) = FV([[t1]])\cup FV([[t2]])\smallsetminus \{y\} \\
    \,\,FV([[H e]]) = FV(e)\\
  \end{array}
\end{array}
\]
The free variables of a $p$-term are defined s follows: 
\[
\begin{array}{rll}
  FV(\mathtt{postp}_{\bot}\ e) & = & FV(e)\\
  FV(\mathtt{postp} (x 􏰀\mapsto e_1, e_2)) & = & FV(e_1) \smallsetminus \{x\} \cup FV(e_2)
\end{array}
\] 
and similarly for terms $\mathtt{postp} (x 􏰀\mapsto t_1, t_2)$.
\end{definition}

Terms are then typed by annotating the previous term structure over
DND derivations, and this is accomplished by annotating the DND
inference rules.  The typing rules for the non-linear fragment of TND
can be found in Figure~\ref{fig:non-linear-ta}, and the typing rules
for the linear fragment of TND can be found in
Figure~\ref{fig:linear-ta}.
\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleTCXXid{} \and
      \DualLNLLogicdruleTCXXzI{} \and
      \DualLNLLogicdruleTCXXdIOne{} \and
      \DualLNLLogicdruleTCXXdITwo{} \and
      \DualLNLLogicdruleTCXXdE{} \and
      \DualLNLLogicdruleTCXXsubI{} \and
      \DualLNLLogicdruleTCXXsubE{} \and
      \DualLNLLogicdruleTCXXHE{} \and      
    \end{mathpar}
  \end{mdframed}
  \caption{Non-linear fragment of the term assignment for TND}
  \label{fig:non-linear-ta}
\end{figure}
\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \DualLNLLogicdruleTLXXid{} \and
      \DualLNLLogicdruleTLXXpI{} \and
      \DualLNLLogicdruleTLXXpE{} \and
      \DualLNLLogicdruleTLXXparI{} \and
      \DualLNLLogicdruleTLXXparE{} \and
      \DualLNLLogicdruleTLXXsubI{} \and
      \DualLNLLogicdruleTLXXsubE{} \and
      \DualLNLLogicdruleTLXXJI{} \and
      \DualLNLLogicdruleTLXXJE{} \and
      \DualLNLLogicdruleTLXXHI{} \and
      \DualLNLLogicdruleTLXXHE{} \and      
    \end{mathpar}
  \end{mdframed}
  \caption{Linear fragment of the term assignment for TND}
  \label{fig:linear-ta}
\end{figure}
\begin{remark}
  Let us call terms of the form $[[postp(x -> t1,t2)]]$, $[[postp (x
      -> e1,e2)]]$, and $[[postpP e]]$ $p$-\emph{terms}. Let us say
  that a term $t$ is \emph{$p$-normal} if $t$ does not contain any
  $p$-term as a proper subterm. We denote this class of
  \emph{$p$-normal} terms by $r$.  When the calculus is typed, linear
  $p$-terms can be typed with $\bot$, non-linear $p$ terms can be
  typed with $0$.  In presence of the $\bot$ rule and of the
  $\DualLNLLogicdruleTCXXzIName$ rule it is possible to replace a
  non-$p$-normal $p$-term removed by a $\beta$-reduction with a $\bot$
  or $\DualLNLLogicdruleTCXXzIName$ rule. However, this creates an
  anomaly in the proof theory since the newly introduced unit rule is
  unnecessary and could be eliminated in the case of $p$-normal
  terms. Hence, we choose to leave the typing of $p$ terms implicit in
  the syntax and enforce the requirement of $p$-normality.
\end{remark}

The typing rules depend on the extension of let and case expressions
to typing contexts.  We use the following notation for \emph{parallel
  composition} of typing contexts:
\[
\Delta = e_1: A_1\,\|\, \cdots \,\|\, e_n: A_n\qquad 
\]
This operation should be regarded as associative, commutative and
having the empty context as its identity.  The extension of
let expressions to contexts is given as follows:
\begin{center}
  \begin{tabular}{rcl}
    $\mathtt{let}\; p\; = t\; \mathtt{in}\ \cdot$ &\ =\ & $\cdot$\\
    $\mathtt{let}\; p\; = [[t1]]\; \mathtt{in}\ ([[t2]]: A)$ &\ =\ & $\mathtt{let}\; p\; = [[t1]]\,\mathsf{in}\,[[t2]] : A$\\
    $\mathtt{let}\; p\; = t\; \mathtt{in}\ ([[P1]]\,\|\,[[P2]])$ &\ =\ & 
    $(\mathtt{let}\; p\; = t\; \mathtt{in}\ [[P1]])\,\|\, (\mathtt{let}\; p\; = t\ \mathtt{in}\ [[P2]])$
  \end{tabular}
\end{center}
where $p = [[H y]]$ or $p = [[J y]]$.
Case expressions are handled similarly.

Similarly to DND logic we have the following admissible rules.
\begin{lemma}[Admissible Typing Rules]
  The term assignment for the admissible rules of the calculus is as follows:
  \begin{mathpar}
    \DualLNLLogicdruleTCXXweak{} \and
      \DualLNLLogicdruleTCXXcontr{} \and
      \DualLNLLogicdruleTCXXcut{} \and     
      \DualLNLLogicdruleTLXXweak{} \and
      \DualLNLLogicdruleTLXXcontr{} \and
      \DualLNLLogicdruleTLXXCcut{} \and
      \DualLNLLogicdruleTLXXcut{}      
  \end{mathpar}
\end{lemma}
\noindent
We generalize the admissible rule of contraction on the non-linear
side to contexts. Let $m_1$ and $m_2$ be multisets of terms, then we
denote by $m_1 \cdot m_2$ the sum of multisets; if multisets are
represented as lists, then the sum is representable as the appending
of the lists. We denote singleton multisets, $\{[[t]]\}$, by the term that inhabits
it, e.g. $[[t]]$.  We extend this to contexts, $\Psi_1 \cdot \Psi_2$, recursively as
follows:
\begin{center}
\begin{tabular}{rcl}
$(\cdot) \cdot (\cdot)$ &\ =\ & $(\cdot)$\\
$(t_1: S)\cdot (t_2:S)$ &\ =\ & $t_1\cdot t_2 : S$\\
  $(\Psi_1\,\|\,\Psi_3)\cdot(\Psi_2\,\|\,\Psi_4)$ &\ =\ & $(\Psi_1\cdot\Psi_2)\,\|\,(\Psi_3\cdot\Psi_4)$  
\end{tabular}
\end{center}
\noindent
where $|\Psi_1|=|\Psi_3|$ and $|\Psi_2|=|\Psi_4|$.

\subsubsection{$\beta$-Reduction in TND}

We now turn to computing in TND by specifying the reduction relation.
First, we give the definition of capture-avoiding substitution.
\begin{definition}
 We define the substitution of a linear term for a free variable in a
 linear term, and in a $p$-term as follows:
 \begin{itemize}
\item $[e/x]y = e$ if $x = y$, $[e/x]y = y$ otherwise
\item $[e'/x]\mathtt{connect}_{\bot} \mathtt{to}\; e = \mathtt{connect}_{\bot} \mathtt{to}\; [e'/x]e$;  
\item $[e'/x]\mathtt{mkc}(e,y) = \mathtt{mkc}([e'/x]e,y)$
\item $[e'/x]y(e) = y([e'/x]e)$
\item $[e'/x](e_1\oplus e_2) = ([e'/x]e_1)\oplus ([e'/x]e_2)$
\item $[e'/x]\mathtt{casel}\;e = \mathtt{casel}\;[e'/x]e$
\item $[e'/x]\mathtt{caser}\;e = \mathtt{caser}\;[e'/x]e$  
\item $[e'/x] J(t) = J[e'/x]t$
\item $[e'/x]\mathtt{postp}_{\bot}\; e = \mathtt{postp}_{\bot}\; e [e'/x]$ 
\item $[e'/x]\mathtt{postp}(x\mapsto e_1, e_2) = \mathtt{postp}(x\mapsto e_1,  [e'/x]e_2$
\end{itemize}
\end{definition}
\noindent
Substitution in a $t$ term is defined similarly, but here we have to define substitution of a multiset of terms in a term:
\begin{enumerate}
\item $[t_1\cdot\ldots\cdot t_n/ z]s = [t_1]s\cdot\ldots\cdot [t_n/ z]s;$
\item $[t_1\cdot\ldots\cdot t_n/ z]p = [t_1]p\,\|\, \ldots\,\|\, [t_n/ z]p,$ where $p$ is a $p$-term.
 \end{enumerate}
The operation of substitution is generalized to contexts in the obvious way: 
\begin{itemize}
\item $[e'/x](e_1 \,\|\, \ldots \,\|\, e_n) = ([e'/x]e_1 \,\|\, \ldots \,\|\, [e'/x]e_n)$;
\item $[t/x](s_1 \,\|\, \ldots \,\|\, s_n) = ([t/x]s_1 \,\|\, \ldots \,\|\, [t/x]s_n)$;
\item $[t_1\cdot \ldots \cdot t_n/x]s = [t_1/x]s \,\|\, \ldots \,\|\, [t_n]s$.
\end{itemize}

\textbf{Non-linear terms}
\begin{center}
{\small
\AxiomC{\small{\bf $-$ Redex:}}
\noLine
\UnaryInfC{$x:S \vdash_{\mathsf{C}} \Psi_1, t: T_1 \qquad y:T_2\vdash_{\mathsf{C}} \Psi_2$}
\UnaryInfC{$x:S \vdash_{\mathsf{C}} \Psi_1, \mathtt{mkc}(t, y): T_1 - T_2, \Psi_1,  [y(t)/y]\Psi_2$}
\AxiomC{$ z:T_1\vdash_{\mathsf{L}} t_2:T_2, \Psi_3$}
\BinaryInfC{$x:S\vdash_{\mathsf{C}} \Psi_1, \mathtt{postp}(z\mapsto t_2, \mathtt{mkc}(t_1,y)), 
 [y(e_1)/y]\Psi_2, z(\mathtt{mkc}(e_1,y))]:\Psi_3  $}
\DisplayProof}
\end{center}
\begin{center}
{\small
\AxiomC{\small{\bf $-$ Reductum:}}
\noLine
\UnaryInfC{$x:S \vdash_{\mathsf{C}}  \Psi_1, t: T_1 \qquad  z: T_1\vdash_{\mathsf{C}} t_2: T_2, \Psi_3$}
\UnaryInfC{$x:S \vdash_{\mathsf{C}} \Psi_1,       [t/z]t_2 : T_2; \Psi_1,  [t/z]\Psi_3$}
\AxiomC{$T_2\vdash_{\mathsf{C}}  \Psi_2$}
\BinaryInfC{$x:S \vdash_{\mathsf{C}} \Psi_1, [ [t/z]t_2/y]\Psi_2,\ [t/z]\Psi_3$}
\DisplayProof}
\end{center}

\vspace{3ex}

\centerline{\small {\bf $+_1$ Redex:}}
\begin{center}
{\small
\AxiomC{$x: S \vdash_{\mathsf{C}} \Psi, t_1: T_1$}
\UnaryInfC{$x: S \vdash_{\mathsf{C}} \Psi, \mathtt{inl}\; t_1: T_1 + T_2$}
\AxiomC{$y: T_1 \vdash_{\mathsf{C}} \Psi_1 \quad z: T_2 \vdash_{\mathsf{C}} \Psi_2 \qquad |\Psi_1| = |\Psi_2| $}
\BinaryInfC{$x: S \vdash_{\mathsf{C}} \Psi, \mathtt{case\ inl}\ t_1\; \mathtt{of}\; y.\Psi_1, z.\Psi_2$}
\DisplayProof}
\end{center}
\centerline{\small {\bf $+_1$ Reductum:}}
\begin{center}
{\small
\AxiomC{$x: S \vdash_{\mathsf{C}} \Psi, t: T_1$}
\AxiomC{$y: T_1 \vdash_{\mathsf{C}} \Psi_1$}
\BinaryInfC{$x: S \vdash_{\mathsf{C}} \Delta,  [t_1/y]\Psi_1$}
\DisplayProof}
\end{center}

\vspace{3ex}

\centerline{\small {\bf $+_2$ Redex:}}
\begin{center}
{\small
\AxiomC{$x: S \vdash_{\mathsf{C}} \Psi, t_2: T_2$}
\UnaryInfC{$x: S \vdash_{\mathsf{C}} \Psi, \mathtt{inr}\; t_2: T_1 + T_2$}
\AxiomC{$y: T_1 \vdash_{\mathsf{C}} \Psi_1 \quad z: T_2 \vdash_{\mathsf{C}} \Psi_2 \qquad |\Psi_1| = |\Psi_2| $}
\BinaryInfC{$x: S \vdash_{\mathsf{C}} \Psi, \mathtt{case\ inr}\ t_2\; \mathtt{of}\; y.\Psi_1, z.\Psi_2$}
\DisplayProof}
\end{center}
\centerline{\small {\bf $+_2$ Reductum:}}
\begin{center}
{\small
\AxiomC{$x: S \vdash_{\mathsf{C}} \Psi, t_2: T_2$}
\AxiomC{$z: T_2 \vdash_{\mathsf{C}} \Psi_2$}
\BinaryInfC{$x: S \vdash_{\mathsf{C}}  [t_2/z]\Psi_2$}
\DisplayProof}
\end{center}

\vspace{3ex}

\begin{center}
{\small
\AxiomC{$y:HB \vdash_{\mathsf{C}} y: HB$}
% 
\AxiomC{\bf $H_2$ Redex}
\noLine
\UnaryInfC{$x:B \vdash_{\mathsf{L}} e:A ; \Psi_1$}
\RightLabel{$H$ {\em intro}}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} ; He: HA, \Psi_1 $}
\RightLabel{$H$ {\em elim}$_2$}
\BinaryInfC{$y:HB \vdash_{\mathsf{C}} (\mathtt{let} Hx = y\ \mathtt{in}\ \Psi_1),  (\mathtt{let} Hx = y\ \mathtt{in}\ He): HA $}
\AxiomC{$z:A \vdash_{\mathsf{L}} ; \Psi_2$}
\RightLabel{$H$ {\em elim}$_2$}
\BinaryInfC{$x:B \vdash_{\mathsf{C}} ; (\mathtt{let} Hx = y\ \mathtt{in}\ \Psi_1)\cdot (\mathtt{let}\ Hz = (\mathtt{let} Hx = y\ \mathtt{in}\ He ) 
\ \mathtt{in}\ \Psi_2)$}
\DisplayProof}
\end{center}
 
\begin{center}
\AxiomC{$y:HB \vdash_{\mathsf{C}} y: HB$}
\AxiomC{\bf $H_2$ Reductum}
\noLine
\UnaryInfC{$x:B \vdash_{\mathsf{L}} e:A ; \Psi_1\qquad z:A \vdash_{\mathsf{L}} ; \Psi_2 $}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \Psi_1\cdot [e/z]\Psi_2 $}
\RightLabel{$H$ {\em elim}$_2$}
\BinaryInfC{$y:HB \vdash_{\mathsf{C}} (\mathtt{let} Hx = y\ \mathtt{in}\ \Psi_1)\cdot (\mathtt{let} Hx = y\ \mathtt{in}\ [e/z]\Psi_2$}
\DisplayProof
\end{center}

\textbf{Linear terms}

\begin{center}
{\small
\AxiomC{\bf $\bot$ Redex}
\noLine
\UnaryInfC{$x: A \vdash_{\mathsf{L}} \Delta ; \Psi\qquad e:B \in \Delta$}
\UnaryInfC{$x: A \vdash_{\mathsf{L}} \mathtt{connect}_{\bot}\; \mathtt{to}\; e: \bot, \Delta ; \Psi$} 
\UnaryInfC{$x:A \vdash_{\mathsf{L}} \mathtt{postp}_{\bot} \mathtt{connect}_{\bot}\; \mathtt{to}\; e, \Delta ; \Psi$}
\DisplayProof}
\end{center}

\begin{center}
{\small
\AxiomC{\bf $\bot$ Reductum}
\noLine
\UnaryInfC{$x: A \vdash_{\mathsf{L}} \Delta ; \Psi$}
\DisplayProof}
\end{center}

\vspace{3ex}

\begin{center}
{\small
\AxiomC{\bf $\lsub$ Redex:}
\noLine
\UnaryInfC{$x:B \vdash_{\mathsf{L}} e_1:A_1, \Delta_1; \Psi_1\qquad y:A_2\vdash_{\mathsf{L}}\Delta_2; \Psi_2$}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \mathtt{mkc}(e_1, y): A_1\lsub A_2, \Delta_1, [y(e_1)/y]\Delta_2; \Psi_1,  [y(e_1)/y]\Psi_2$}
\UnaryInfC{$\hskip2in z:A_1\vdash_{\mathsf{L}} e_2:A_2, \Delta_3; \Psi_3$}
\UnaryInfC{$x:B\vdash_{\mathsf{L}} \Delta_1, 
\mathtt{postp}(z\mapsto e_2, \mathtt{mkc}(e_1,y)) 
 [y(e_1)/y]\Delta_2,  [z(\mathtt{mkc}(e_1,y))/z]\Delta_3 ;$}
\noLine
\UnaryInfC{$\hskip2in \Psi_1,  [y(e_1)/y]\Psi_2, z(\mathtt{mkc}(e_1,y))]:\Psi_3  $}
\DisplayProof}
\end{center}
\begin{center}
{\small
\AxiomC{\bf $\lsub$ Reductum:}
\noLine
\UnaryInfC{$x:B \vdash_{\mathsf{L}} e_1:A_1, \Delta_1; \Psi_1\qquad  z:A_1\vdash_{\mathsf{L}} e_2:A_2, \Delta_3; \Psi_3$}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \Delta_1, [e_1/z]\Delta_3,       [e_1/z]e_2 : A_2; \Psi_1,  [e_1/z]\Psi_3$}
\UnaryInfC{$\hskip2in y:A_2\vdash_{\mathsf{L}} \Delta_2; \Psi_2$}
\UnaryInfC{$x:B \vdash_{\mathsf{L}}\Delta_1, [ [e_1/z]e_2/y]\Delta_2,\ [e_1/z]\Delta_3; \Psi_1,[ [e_1/z]e_2]\Psi_2,\ [e_1/z]\Psi_3$}
\DisplayProof}
\end{center}

\vspace{3ex}

\centerline{\small {\bf $\oplus$ Redex:}}
\begin{center}
{\small
\AxiomC{$x: A \vdash_{\mathsf{L}} \Delta, e_1: B_1, e_2: B_2;  \Psi$}
\UnaryInfC{$x: A \vdash_{\mathsf{L}} \Delta, e_1\oplus e_2: B_1\oplus B_2;  \Psi$}
\AxiomC{$y: B_1 \vdash_{\mathsf{L}} \Delta_1; \Psi_1 \quad z: B_2 \vdash_{\mathsf{L}}  \Delta_2; \Psi_2$}
\BinaryInfC{$x: A \vdash_{\mathsf{L}} \Delta, [\mathtt{casel}(e_1\oplus e_2)/y]\Delta_1, [\mathtt{caser}(e_1\oplus e_2)/z]\Delta_2 ;$}
\noLine
\UnaryInfC{$\hskip1in  \Psi, [\mathtt{casel}(e_1\oplus e_2)/y]\Psi_1, [\mathtt{caser}(e_1\oplus e_2)/z]\Psi_2$}
\DisplayProof}
\end{center}
\centerline{\small {\bf $\oplus$ Reductum:}}
\begin{center}
{\small
\AxiomC{$x: A \vdash_{\mathsf{L}} \Delta, e_1: B_1, e_2: B_2;  \Psi$}
\AxiomC{$y: B_1 \vdash_{\mathsf{L}} \Delta_1; \Psi_1$}
\BinaryInfC{$x: A \vdash_{\mathsf{L}} \Delta,  [e_1/y]\Delta_1, e_2: B_2;  \Psi, [e_1/y]\Psi_1$}
\AxiomC{$z: B_2 \vdash_{\mathsf{L}}  \Delta_2; \Psi_2$}
\BinaryInfC{$x: A \vdash_{\mathsf{L}} \Delta, [e_1/y] \Delta_1, [e_2/z]\Delta_2 ;\Psi,  [e_1/y]\Psi_1, [e_2/z]\Psi_2$}
\DisplayProof}
\end{center}

\vspace{3ex}

\begin{center}
{\small
\begin{tabular}{c}
{\bf $J$ Redex:}\\
\AxiomC{$x:A \vdash_{\mathsf{L}} ,\Delta; t:T, \Psi$}
\RightLabel{\emph{J-intro}}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta, Jt: JT; \Psi$}
\AxiomC{$ y:T \vdash_{\mathsf{C}} \Psi_2\ \hbox{where}\ |\Psi_1|=|\Psi_2|$}
\RightLabel{\emph{J-elim}}
\BinaryInfC{$x:A\vdash_{\mathsf{L}} \Delta; \Psi_1 \cdot \mathtt{let}\ Jy = Jt\  \mathtt{in}\ \Psi_2$}
\DisplayProof\\
\\
{\bf $J$ Reductum:}\\
\AxiomC{$x:A \vdash_{\mathsf{L}} \Delta; t:T, \Psi$}
\AxiomC{$y:T \vdash_{\mathsf{C}} \Psi_2\ \hbox{where}\ |\Psi_1|=|\Psi_2|$}
\BinaryInfC{$x:A \vdash_{\mathsf{L}} \Delta;\Psi_1, [t/y]\Psi_2$}
\DisplayProof
\end{tabular}}
\end{center}

\vspace{3ex}

\centerline{\small{\bf $H_1$ Redex}}
\begin{center}
\AxiomC{$x:B \vdash_{\mathsf{L}} \Delta, e:A ; \Psi_1$}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \Delta; He: HA, \Psi_1 $}
\AxiomC{$y:A \vdash_{\mathsf{L}} ; \Psi_2$}
\BinaryInfC{$x:B \vdash_{\mathsf{L}} \Delta; \Psi_1\cdot (\mathtt{let} Hy = He\ \mathtt{in}\ \Psi_2)$}
\DisplayProof
\end{center}
\centerline{\small{\bf $H_1$ Reductum}}

\begin{center}
\AxiomC{$x:B \vdash_{\mathsf{L}} \Delta, e:A ; \Psi_1$}
\AxiomC{$y:A \vdash_{\mathsf{L}} ; \Psi_2$}
\BinaryInfC{$x:B \vdash_{\mathsf{L}} \Delta; \Psi_1\cdot [e/y] \Psi_2$}
\DisplayProof
\end{center}

\vspace{3ex}

\centerline{\small{\bf weakening commutations}}

\begin{center}
\AxiomC{$x: S \vdash_{\mathsf{C}} \mathtt{connect}_w\; \mathtt{to}\; t: T,  \Psi\qquad t \in \Psi$} 
\doubleLine
\UnaryInfC{$y:S \vdash C \mathtt{connect}_w\; \mathtt{to}\; t': T',  \Psi'\qquad t' \in \Psi'$}
\DisplayProof
\end{center}
where the double line stands for any $n$-ary inference, $n = 1,2,3$ or no inference (it is possible to ``rewire''  the attachment
within the same context).

\vspace{1ex}

\begin{center}
\AxiomC{$x: B \vdash_{\mathsf{L}} \Delta ; \mathtt{connect}_w\; \mathtt{to}\; e: T,  \Psi\qquad e \in \Delta$} 
\doubleLine
\UnaryInfC{$y:S \vdash C \Delta' ; \mathtt{connect}_w\; \mathtt{to}\; e': T',  \Psi'\qquad e' \in \Delta'$}
\DisplayProof
\end{center}
where the double line stands for any  $n$-ary inference, $n = 1,2,3$ or no inference. The weakening formula could be 
attached also to a term in the non-linear part. 

\vspace{3ex}

\centerline{\small{\bf $\bot$ commutations}}
\begin{center}
\AxiomC{$x: A \vdash_{\mathsf{L}} \mathtt{connect}_{\bot}\; \mathtt{to}\; e: \bot, \Delta ; \Psi\qquad e \in \Delta$} 
\doubleLine
\UnaryInfC{$y:B \vdash L \mathtt{connect}_{\bot}\; \mathtt{to}\; e': \bot, \Delta' ; \Psi'\qquad e \in \Delta'$}
\DisplayProof
\end{center}
where the double line stands for any $n$-ary inference, $n = 1,2,3$.
 
\vspace{1ex}

\noindent
There is also a zero commutation rule, which we omit here. 

% subsection term_assignment (end)

\subsection{Categorical interpretation of rules}
\label{sec:categorical_interpretation_of_rules}

\noindent
Given a {\em signature} $Sg$, consisting of a collection of types $\sigma_i$, where $\sigma_i = A\ \hbox{or}\ S$, 
and a collection of {\em sorted function symbols} $f_j : \sigma_1, \ldots, \sigma_n \rightarrow \tau$ and given 
a Symmetric Monoidal Category (SMC) $(\mathbb{C}, \bullet, 1, \alpha, \lambda, \rho, \gamma)$,  a {\em structure} 
$\mathcal{M}$ for $Sg$ is an assignment of an object $[\![\sigma]\!]$ of $\mathcal{L}$ for each type $\sigma$ and of 
a morphism $[\![f]\!] : [\![\sigma_1]\!]\bullet\ldots\bullet[\![\sigma_n]\!]\rightarrow [\![\tau]\!]$ for each function $f : \sigma_1, \ldots, \sigma_n \rightarrow \tau$ of $Sg$.\footnote{ In this subsection only we use the symbol $\bullet$ and 1 for the monoidal binary operation and its unit in the categorical structure, distinguished from the $\oplus$ and $\bot$ symbols 
in the formal language. We shall show that the interpretation of $\oplus$ is isomorphic to the operation $\bullet$, 
so we shall be able to identify them ( and similarly for $\bot$ and 1).}

\vspace{1ex}

\noindent
The types of terms in context $\Delta = [e_1: A_1, \ldots, e_n: A_n]$ or $\Delta = [t_1: T_1, \ldots, t_n: T_n]$ are 
interpreted as $[\![\sigma_1, \sigma_2, \ldots, \sigma_n]\!]$ =   
$(\ldots ([\![\sigma_1]\!]\bullet[\![\sigma_2]\!])\ldots ) \bullet [\![\sigma_n]\!]$; left associativity is also 
intended for concatenations of type sequences $\Gamma, \Delta$. Thus we need the ``book-keeping'' functions 
$\mathtt{Split}(\Gamma, \Delta): [\![\Gamma, \Delta]\!] \rightarrow [\![\Gamma]\!]\bullet [\![\Delta]\!]$ and 
$\mathtt{Join}(\Gamma, \Delta): [\![\Gamma]\!] \bullet  [\![\Delta]\!] \rightarrow [\![\Gamma, \Delta]\!]$ inductively defined 
using the associativity laws $\alpha$ and their inverse $\alpha^{-1}$ (cfr Bierman 1994, Bellin 2015).  

\vspace{1ex}

\noindent
The semantics of terms in context is then specified by induction on terms: 
\begin{center}
\begin{tabular}{c}
$[\![x: A\vdash_{\mathsf{L}} x: A]\!] =_{df} id_{[\![\sigma]\!]}$\\
\\
$[\![x: A\vdash_{\mathsf{L}}  f(e_1,\ldots, e_n): B]\!] =_{df} [\![x: A\vdash e_1: A_1]\!]\bullet
\ldots\bullet [\![x:\sigma\triangleright e_n: A_n]\!]; [\![ f ]\!]$
\end{tabular}
\end{center}   
and similarly with non-linear types. 
Next one proves by induction on the type derivation that substitution in the term calculus 
corresponds to composition in the category (\cite{Bierman94}, Lemma 13). 

\vspace{1ex}

\noindent
In a Linear Non-Linear Co-intuitionistic logic sequent, mixed sequents $x:A \vdash_{\mathsf{L}} \Delta ; \Psi, t:T$ 
non-linear terms are interpreted through the functor $J : \mathcal{C} \rightarrow \mathcal{L}$. Here we use 
the same symbol for the functor $J$ in the structure and the name of the functor in the syntax of the langage. 
Thus we have 
\[
[\![ x:A \vdash_{\mathsf{L}} \Delta ; \Psi, t:T]\!]  \quad = \quad [\![ x:A \vdash_{\mathsf{L}} \Delta, J \Psi, Jt: J(T) ]\!] 
\]  

\vspace{1ex}


\noindent
Let $\mathcal{M}$ be a structure for a signature $Sg$ in a SMC $\mathcal{L}$. Given an equation in
context for $Sg$ 
$$
x: A \vdash_{\mathsf{L}} \overline{e}:\Gamma, e_1 = e_2 : B; \Psi
$$
we say that the structure \emph{satisfies} the equation if it assigns the same morphisms to  
$x: A \vdash_{\mathsf{L}} \overline{e}:\Gamma, e_1 : B; \Psi$.  and to $A\vdash \overline{e}:\Gamma, e_2: B;\Psi$.
Similarly, $\mathcal{M}$ satisfies $x: S \vdash_{\mathsf{L}} \overline{t}:\Psi, t_1 = t_2$ if it assigns the same morphism
to $x: S \vdash_{\mathsf{L}} \overline{t}:\Psi, t_1 : T$ and to $x: S \vdash_{\mathsf{L}} \overline{t}:\Psi,  t_2 : Y$.
Then given an algebraic theory 
$Th = (Sg, Ax)$, a structure $\mathcal{M}$ for $Sg$ is a {\em model} for $Th$ if it satisfies all the 
axioms in $Ax$. 


\vspace{1ex}

We now go through some cases of the rules in the sequent-style Natural Deduction calculus to specify 
their categorical interpretation so as to satify the equations in context and to prove consistency of the 
LNL co-intuitionistic logic in the model thus defined. 

\subsubsection{Linear disjunction Par}\label{lindisj} 


\ref{lindisj}.1. 
{\em Par introduction.} 
The introduction rule for Par is of the form 
\begin{center} 
\AxiomC{$x:A\vdash_{\mathsf{L}} \Delta_1, e_1:B, e_2:C; \Psi$}
\RightLabel{$\oplus$ I}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta_1, e_1\oplus e_2: B\oplus C, \Psi$}
\DisplayProof
\end{center}
This suggests an operation on Hom-sets of the form 
$$
\Phi_{A, \Delta J\Psi}: \mathcal{L}(A, \Delta\bullet A\bullet B \bullet J\Psi) \rightarrow 
\mathcal{L}(A, \Delta\bullet B\oplus C \bullet J\Psi)
$$
{\em natural in} $\Delta$, $A$ and $J\Psi$. Given 
$$e: A\rightarrow \Delta \bullet B\bullet C\bullet J\Psi,$$ 
and $d: A' \rightarrow A$
 $h: \Delta\rightarrow\Delta'$ and  $p: J\Psi\rightarrow J\Psi'$, naturality yields 
$$
\Phi_{A', \Delta'}(d; e; h\bullet id_B\bullet id_{\mathsf{C}}\bullet p) = d; \Phi_{A, \Delta}(e); h\bullet id_{B\oplus C}\bullet p
$$
In particular, letting $$e = id_{\Delta} \bullet id_B \bullet id_{\mathsf{C}},\quad d: A \rightarrow \Delta\bullet B\bullet C,$$ 
$h = id_{\Delta}$ and $p = id_{J\Psi}$ we have 
$$
\Phi_{A, \Delta}(d) = d; \Phi_{\Delta} (id_{\Delta}\bullet id_B \bullet id_{\mathsf{C}})
$$
By functoriality of $\bullet$ we have $id_{B}\bullet id_{C} = id_{B\bullet C}$. Hence, writing  
$\bigoplus$ for $\Phi_{\Delta} (id_{\Delta}\bullet id_{B \bullet C})$ we have 
$\Phi_{A, \Delta}(d) = d; \bigoplus$. We define
$$
[\![x:A \vdash_{\mathsf{L}}  :\Delta, e_1 \oplus e_2: B\oplus C]\!] =_{df} 
     [\![x:A \vdash_{\mathsf{L}} \Delta, e_1:B, e_2:C, ]\!]; \bigoplus.
$$

\vspace{3ex}

\noindent
\ref{lindisj}.2. {\em Par elimination}. The Par elimination rule has the form 
\begin{center} 
\AxiomC{$z:A\vdash_{\mathsf{L}} e: B\oplus C, \Delta_1;\Psi_1$}
\AxiomC{$x:B\vdash_{\mathsf{L}} \Delta_2;\Psi_2$}
\AxiomC{$y:C\vdash_{\mathsf{L}} \Delta_3; \Psi_3$}
\RightLabel{$\oplus$ E}
\TrinaryInfC{$z:A\vdash_{\mathsf{L}} \Delta_1, [\mathtt{casel} z/x] \Delta_2, [\mathtt{caser} z/y]\Delta_3; \Psi_1 \cdot \Psi_2\cdot \Psi_3$}
\DisplayProof
\end{center}
This suggests an operation on Hom-sets of the form 
$$
\Psi_{A,\Delta,J\Psi}: \mathcal{L}(A, B\oplus C \bullet \Delta_1\bullet J\Psi_1)\times
\mathcal{L}(B, \Delta_2\bullet J\Psi_2)\times\mathcal{L}(C, \Delta_3\bullet J\Psi_3)\rightarrow 
\mathcal{L}(A, \Delta\,\bullet\, J\Psi)
$$
{\em natural in} $A,\Delta, J\Psi$ where we write $\Delta = \Delta_1, \Delta_2, \Delta_3$, $J\Psi = J\Psi_1,J\Psi_2, J\Psi_3$. Given morphisms 
$$g:A\rightarrow \Delta_1\bullet J\Psi_1\bullet B\wp C, \quad e: B\rightarrow\Delta_2\bullet J\Psi_2 \quad
 \hbox{ and } f: C\rightarrow \Delta_3\bullet J\Psi_3$$ and also $a: A'\rightarrow A$, 
$d_1:\Delta_1\rightarrow \Delta_1'$, 
$d_2: \Delta_2 \rightarrow \Delta_2'$ and $d_3: \Delta_3 \rightarrow \Delta_3'$,  $p_1: J\Psi_1\rightarrow J\Psi_1'$, 
$p_2: J\Psi_2 \rightarrow J\Psi_2'$ and $p_3: J\Psi_3 \rightarrow J\Psi_3'$
naturality yields
\begin{center}
\begin{tabular}{rl}
$\Psi_{A',\Delta',\Gamma',J\Psi'}\bigl((a;g;d_1\bullet id_{B\oplus C}), (e;d_2\bullet p_2),$ & $(f;d_3\bullet p_3)\bigr)$ =\\ 
$a; \Psi_{A,\Delta,J\Psi}(g,e,f);$ & 
$d_1 \bullet d_2\bullet d_3\bullet p_1\bullet p_2\bullet p_3; \mathtt{Join}(\Delta',J\Psi').$
\end{tabular}
\end{center}
In particular, set $$e = id_B, \quad f = id_{\mathsf{C}}$$ and also $a = id_A$, $d_i = id_{\Delta_i}$, $p_i = id_{J\Psi_i}$ we get 
$$
\Psi_{A,\Delta J\Psi}(g, e, f) = \Psi_{A,\Delta, J\Psi}(g, id_B, id_{\mathsf{C}}); 
id_{\Delta}\bullet c\bullet d; \mathtt{Join}(\Delta, J\Psi) 
$$
where the operation $\mathtt{Join}$ establishes left associativity.
Writing $(g)^{\ast}$ for $\Psi_{D,\Delta}(g, id_B, id_{\mathsf{C}})$ we define
\begin{center}
\begin{tabular}{l}
$[\![z:A\vdash_{\mathsf{L}} \Delta_1, [\mathtt{casel}\ e/x]\Delta_2, [\mathtt{caser}\ e/y] \Delta_3; \Psi_2, \Psi_3]\!]=_{df}$\\
$[\![z:A\vdash_{\mathsf{L}} \Delta_1, e, B\,\oplus\, C; \Psi_1]\!]^*; 
id_{\Delta_1}\bullet [\![x:B\vdash_{\mathsf{L}} \Delta_2; \Psi_2]\!]\bullet[\![y:C\vdash_{\mathsf{L}} \Delta_3; \Psi_3]\!];
\mathtt{Join}(\Delta,J\Psi)$.\\
\end{tabular}
\end{center}

\vspace{3ex}

\noindent
\ref{lindisj}.3. {\em Equations in context.} We have equations in context of the form
\begin{equation}\label{context:par}
%\framebox{\quad
\AxiomC{$\mathbf \oplus - \beta$ rules:}
\noLine
\UnaryInfC{$e\equiv\mathtt{casel}(e_1 \oplus e_2)\quad e' \equiv \mathtt{caser}(e_1 \oplus e_2)\hskip3in$}
\noLine
\UnaryInfC{$|\Delta_1| = |\Delta'_1|\ | \Psi_1| = |\Psi'_1| \hskip1in
x : A_1 \vdash_{\mathsf{L}} \Delta_2; J\Psi_2 = \Delta'_2; J\Psi'_2 \hskip1in$}
\noLine
\UnaryInfC{$|\Delta_2|=|\Delta'_2|\ |\Psi_2|=|\Psi'_2|\hskip1in y:A_2 \vdash_{\mathsf{L}} \Delta_3; J\Psi_3 =\Delta'_3; J\Psi'_3\hskip1in$}
\noLine
 \UnaryInfC{$|\Delta_3|=|\Delta_3'|\ |\Psi_3|=|\Psi'_3| \quad
z:B \vdash_{\mathsf{L}} e_1 :A_1,e_2 :A_2, \Delta_1; J\Psi_1 = e'_1 :A_1,e'_2 :A_2,\Delta'_1;J\Psi'_1$}
\UnaryInfC{$z:B\vdash_{\mathsf{L}} \Delta_1,[e/x]\Delta_2,[e'/x]\Delta_3;\Psi_1,[e/x]\Psi_2,[e'/x]\Psi_3 =$}
\noLine
\UnaryInfC{$\hskip.5in = \Delta'_1, [e'_1/x]\Delta_2,[e'_2/x]\Delta′_3;\Psi′_1,[e'_1/x]\Psi'_2,[e'_2/x]\Psi'_3$}
\DisplayProof
\end{equation}
Let 
$$
q: B\rightarrow A_1\bullet A_2 \bullet \Delta_1\bullet J\Psi,\qquad m:A_1\rightarrow\Delta_2\bullet J\Psi_2 \quad
\hbox{ and }\quad  
n: A_2\rightarrow\Delta_3\bullet J\Psi_3.
$$
Then to satisfy the above equations in context we need that the following diagram commutes:
\begin{center}
$\xymatrix@R=.4in{B\ar[r]^(.25){q} & \Delta_1\bullet J\Psi_1\bullet (A_1\bullet A_2) \ar[d]_{\oplus} \ar[rr]^(.4){id_{\Delta_1}\bullet m\bullet n} &
&\Delta_1\bullet J\Psi_1\bullet\Delta_2\bullet J\Psi_2\bullet \Delta_3\bullet J\Psi_3\\
&\Delta_1\bullet  J\Psi_1\bullet A\oplus B \ar[rr]_{\ast} & &\Delta_1\bullet  J\Psi_1\bullet A\bullet B \ar[u]_{id_{\Delta_1}\bullet m\bullet n}\\}$
\end{center}   
We make the assumption that the above decomposition is unique. 
Moreover, supposing $\Delta_1$ to be empty and $m = id_A$, $n = id_B$, $q = id_A\bullet id_B = id_{A\bullet B}$ 
we obtain $(id_A\bullet id_B; \mathbf{\bigoplus})^{\ast} = id_A\bullet id_B$ and similarly 
$(id_{A \oplus B})^*; \mathbf{\bigoplus} = id_{A \oplus B}$; hence we may conclude that there is a natural isomorphism 
\begin{center}
\AxiomC{$D \rightarrow \Gamma\bullet A\bullet B$}
\doubleLine
\UnaryInfC{$D \rightarrow \Gamma\bullet A\oplus B$}
\DisplayProof
\end{center}
so we can identify $\bullet$ and $\oplus$. Finally we see that the following $\eta$ equation in context 
is also satisfied:  
\begin{equation}\label{eta:par}
\quad\framebox{
\AxiomC{$\oplus - \eta$ rule}
\noLine
\UnaryInfC{$|\Delta| = |\Delta'| \quad|\Psi| = |\Psi'| \quad z:B \vdash_{\mathsf{L}} \Delta; \Psi = \Delta'; \Psi'$}
\UnaryInfC{$z:B \vdash_{\mathsf{L}} (\mathtt{casel\, e}\oplus\mathtt{caser}\, e): A_1\oplus A_2, \Delta; \Psi = e:A_1\oplus A_2, \Delta'; \Psi'$}
\noLine
\UnaryInfC{\strut}
\DisplayProof
}
\end{equation}

\subsubsection{Linear subtraction}\label{linsubtr}
\ref{linsubtr}.1. {\em Subtraction introduction.} The introduction rule for subtraction has the form 
\begin{center} 
\AxiomC{$x:A\vdash_{\mathsf{L}} \Delta_1, e: B; \Psi_1$}
\AxiomC{$y:C\vdash_{\mathsf{L}} \Delta_2; \Psi_2\quad |\Psi_1 | = |\Psi_2|$}
\RightLabel{$L sub I$}
\BinaryInfC{$x:A\vdash_{\mathsf{L}} \Delta_1, \mathtt{mkc}(e,y) : B \lsub C, [y(e)/y]\Delta_2; \Psi_1\cdot [y(e)/y]\Psi_2$}
\DisplayProof
\end{center}
This suggests a natural transformation with components
$$
\Phi_{A, \Delta,J\Psi}: \mathcal{L}(A, \Delta_1\bullet B\bullet J\Psi_1)\times\mathcal{L}(C, \Delta_2\bullet J\Psi_2) \rightarrow 
\mathcal{L}(A, \Delta_1\bullet (B\lsub C)\bullet \Delta_2\bullet J\Psi_1\bullet J\Psi_2)
$$
natural in $A, \Delta_1, \Delta_2, J \Psi_1, J\Psi_2$.
Taking morphisms 
$$e: A\rightarrow \Delta_1\bullet B \bullet J\Psi_1, \quad  f:C\rightarrow \Delta_2 \bullet J\Psi_2$$ 
and also $a: A'\rightarrow A$, $d_1:\Delta_1\rightarrow \Delta_1'$, 
$d_2: \Delta_2\rightarrow \Delta_2'$, $p_1: J\Psi_1\rightarrow J\Psi_1'$, $p_2: J\Psi_2\rightarrow J\Psi_2'$, 
by naturality we have
\begin{center}
\begin{tabular}{c}
$\Phi_{A', \Delta_1',\Delta'_2, J\Psi'_1J\Psi'_2}\left((a; e; d_1\bullet id_B\bullet p_1), (f;d_2;p_2)\right) =\qquad\qquad $\\
$\qquad\qquad = a; \Phi_{A,\Delta, J\Psi}(e, f); d_1\bullet d_2\bullet id_{B\lsub C}; 
\mathtt{Join}(\Delta_1',\Delta_2', B\lsub C, J\Psi_1', J\Psi_2')$
\end{tabular}
\end{center}
In particular, taking $a=id_A$, $d_1=id_{\Delta_1}$, $p_1 = id_{J\Psi_1}, p_2 = id_{J\Psi_2}$ but 
$d_2: C\rightarrow\Delta_2\cdot J\Psi_2$ and $f= id_{\mathsf{C}}$ we have:
\begin{center}
\begin{tabular}{c}
$\Phi_{A, \Delta_1, \Delta_2, J\Psi_1, J\Psi_2}(e, d_2) = \Phi_{A,\Delta_1} (e, id_{\mathsf{C}}); 
id_{\Delta_1}\bullet d_2 \bullet id_{A\lsub B}\bullet id_{J\Psi_1}\bullet id{J\Psi_2}; $\\
$\hskip2in\mathtt{Join}(\Delta_1, \Delta_2, A\lsub B, J\Psi_1, J\Psi_2)$\\
\end{tabular}
\end{center}
Writing $\mathbf{MKC}^C_{A,\Delta_1,J\Psi_1}(e)$ for $ \Phi_{A,\Delta_1 J\Psi_1} (e, id_{\mathsf{C}})$, 
$\Phi_{A, \Delta, J\Psi}(e, d_2)$ can be expressed as the composition 
$$
\mathbf{MKC}^C_{A,\Delta_1, J\Psi_1}(e); id_{\Delta_1}\bullet d_2\bullet id_{B\lsub C}
$$ 
where $\mathbf{MKC}^C_{A,\Delta_1, J\Psi_1}$ is a natural transformation with components 
$$
\mathcal{L}(A, \Delta_1\bullet B\bullet J\Psi)\times\mathcal{L}(C, C) \rightarrow 
\mathcal{L}(A, \Delta_1\bullet C \bullet C\lsub C)
$$
so we make the definition 
\begin{center}
\begin{tabular}{l}
$[\![x:A \vdash_{\mathsf{L}} \Delta_1, \mathtt{mkc}(e,y):\, B\lsub C, [y(e)/y+\Delta_2; \Psi_1\cdot [y(e)/y] \Psi_2]\!] =_{df}$\\
\quad $\mathbf{MKC}^C_{A,\Delta_1,J\Psi_1}[\![x:A\vdash_{\mathsf{L}}\Delta_1, e_1:B]\!];
id_{\Delta}\bullet [\![y:C\vdash_{\mathsf{L}}\Delta_2; \Psi_2]\!]\bullet id_{B\lsub C}; $\\
$\hskip2in \mathtt{Join}(\Delta_1,\Delta_2, B\lsub C, J\Psi_1, J\Psi_2)$\\
\end{tabular}
\end{center}
Notice that $\mathbf{MKC}^C_{A,\Delta_1, J\Psi_1}$ corresponds to the one-premise form of the 
subtraction introduction rule
\begin{center} 
\AxiomC{$x:A\vdash_{\mathsf{L}} \Delta_1, e: B; \Psi_1$}
\RightLabel{$L sub I$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta_1, \mathtt{mkc}(e,y) : B \lsub C, y(e): C; \Psi_1$}
\DisplayProof
\vspace{3ex}
\end{center}
which is equivalent in terms of provability to the more general form considered here (cfr Crolard 2004).

\vspace{1ex}

\noindent
\ref{linsubtr}.2. {\em Subtraction elimination.} The subtraction elimination rule has the form 
\begin{center} 
\AxiomC{$x:A\vdash_{\mathsf{L}} \Delta_1, e_1: B\lsub C; \Psi_1$}
\AxiomC{$y:B\vdash_{\mathsf{L}} e_2:C, \Delta_2; \Psi_2\quad |\Psi_1| = |\Psi_2|$}
\RightLabel{$\smallsetminus$ E}
\BinaryInfC{$x:A\vdash_{\mathsf{L}}  \mathtt{postp}(y\mapsto e_2, e_1), \Delta_1, [y(e_1)/y]\Delta_2; 
\Psi_1, [y(e_1)/y]\Psi_2$} 
\DisplayProof
\end{center}
This suggests a natural transformation with components
$$
\Psi_{A,\Delta_1, \Delta_2, J\Psi_1, J\Psi_2}: \mathcal{L}(A, \Delta_1\bullet (B\lsub C)\bullet J\Psi_1)\times
\mathcal{L}(B, C\bullet\Delta_2\bullet J\Psi_2) \rightarrow 
\mathcal{L}(A,  \Delta_1\bullet \Delta_2\bullet J\Psi_1\bullet J\Psi_2)
$$
natural in $A, \Delta_1, \Delta_2, J\Psi_1, J\Psi_2$. Here $\mathtt{postp}(y\mapsto e_2, e_1)$ is given 
type $1$ and an application of left identity $\lambda_{1,\Delta_2}$ is assumed implicitly. 

\vspace{1ex}

\noindent 
Given 
$$e: A\rightarrow \Delta_1\bullet (B\lsub C) \bullet J\Psi_1,\qquad  
f: B\rightarrow C\bullet \Delta_2\bullet J\Psi_2
$$ and also $a: A'\rightarrow A$, $d_1: \Delta_1\rightarrow\Delta_1'$, 
$d_2:\Delta_2\rightarrow\Delta_2'$, $p_1: J\Psi_1 \rightarrow J\Psi'_1$ $p_2: J\Psi_2 \rightarrow J\Psi'_2$
naturality yields 
\begin{center}
\begin{tabular}{l}
$\Psi_{A', \Delta_1',\Delta_2', J\Psi_1', J\Psi_2'}\left((a; e; d_1\bullet id_{B\lsub C}\bullet p_1), (f; id_{\mathsf{C}}\bullet d_2\bullet p_2)\right) = $\\
$a; \Psi_{A, \Delta_1,\Delta_2,J\Psi_1}(e, f);\lambda_{1,\Delta_1} \bullet d_1\bullet d_2\bullet p_1\bullet p_2; \mathtt{Join}(\Delta_1',\Delta_2', J\Psi_1,J\Psi_2)$
\end{tabular}
\end{center}
In particular, taking $a: A\rightarrow \Delta_1\bullet(B\lsub C)$, 
$e = id_{\Delta_1\bullet(B\lsub C)}$, $d_1= id_{\Delta_1}$, $d_2: id_{\Delta_2}$, $p_1 = id_{J\Psi_1}$, $p_2 = id{J\Psi_2}$ we obtain
$$
\Psi_{A, \Delta_1,\Delta_2}(a, f) = a; \Psi_{A, \Delta_1,\Delta_2}(id_{\Delta_1\bullet(C\lsub D)\bullet id_{J\Psi_1}}, f); \mathtt{Join}(\Delta_1,\Delta_2, J\Psi_1, J\Psi_2)
$$
Writing $\mathbf{POSTP}(f)$ for $\Psi_{A, \Delta_1,\Delta_2,J\Psi_1, J\Psi_2}(id_{\Delta_1\bullet(B\lsub C)\bullet J\Psi_1}, f)$
we define 
\begin{center}
\begin{tabular}{l}
$[\![x:A \vdash_{\mathsf{L}} \Delta_1, \mathtt{postp}(y\mapsto e_2, e_1), [y(e_1)/y]\Delta_2; \Psi_1, [y(e_1)/y], \Psi_2]\!] =_{df}$\\
\quad $[\![x:A\vdash_{\mathsf{L}} \Delta_1, e_1: B\lsub C]\!]; id_{\Delta_1}\bullet
\mathbf{POSTP}[\![y:B \vdash_{\mathsf{L}} e_2: C,\Delta_2; \Psi_2]\!]; \mathtt{Join}(\Delta_1,\Delta_2,J\Psi_1,J\Psi_2)$ 
\end{tabular}
\end{center}

\vspace{1ex}

\noindent
\ref{linsubtr}.3. {\em Equations in context.}  We have equations in context of the form 
\begin{equation}\label{context:sub}
\framebox{\AxiomC{$\mathbf \lsub - \beta$ rules:}
\noLine
\UnaryInfC{$e_p\equiv \mathtt{postp}(z\mapsto e_2, \mathtt{mkc}(e_1,y))\quad e_z\equiv z(\mathtt{mkc}(e_1,y))\hskip1in $}
\noLine
\UnaryInfC{$|\Delta_1| = |\Delta'_1|\ | \Psi_1| = |\Psi'_1| \qquad
x : B \vdash_{\mathsf{L}} e_1:A_1, \Delta_1; \Psi_1 = e'_1: A_1,\Delta'_1; \Psi'_1 $}
\noLine
\UnaryInfC{$\quad |\Delta_2|=|\Delta'_2|\ |\Psi_2|=|\Psi'_2|\qquad y:A_2 \vdash_{\mathsf{L}} \Delta_2; \Psi_2 =\Delta'_2; \Psi'_2
\hskip1in$}
\noLine
\UnaryInfC{$\hskip1.8in z:A_1 \vdash_{\mathsf{L}} e_2 :A_2, \Delta_3; \Psi_3 =e'_2 :A_2,\Delta'_3;\Psi'_3$}
\UnaryInfC{$x: B\vdash_{\mathsf{L}} \Delta_1. e_p, [y(e_1)/y]\Delta_2, [e_z/z]\Delta_3; \Psi_1, [y(e_1))y]\Psi_2, [e_z/z]\Psi_3 = $}
\noLine
\UnaryInfC{$\qquad = \Delta'_1, [ [e'_1/z]e'_2/y]\Delta_2, [e'_1/z]\Delta'_3; \Psi'_1, [ [e'_1/z]e'_2/y]\Psi'_2, [e'_1/z]\Psi'_3$}
\DisplayProof
}
\end{equation}


We repeat the derivations of the redex and of the reductum.

\centerline{\bf Redex:}
{\small
\begin{center}
\AxiomC{$x:B \vdash_{\mathsf{L}} e_1:A_1, \Delta_1; \Psi_1\qquad y:A_2\vdash_{\mathsf{L}}\Delta_2; \Psi_2$}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \mathtt{mkc}(e_1, y): A_1\lsub A_2, \Delta_1, [y(e_1)/y]\Delta_2; \Psi_1,  [y(e_1)/y]\Psi_2$}
\AxiomC{$z:A_1\vdash_{\mathsf{L}} e_2:A_2, \Delta_3; \Psi_3$}
\BinaryInfC{$x:B\vdash_{\mathsf{L}} \Delta_1, 
\overbrace{\mathtt{postp}(z\mapsto e_2, \mathtt{mkc}(e_1,y))}^{e_p}, 
 [y(e_1)/y]\Delta_2,  [\overbrace{z(\mathtt{mkc}(e_1,y))}^{e_z}/z]\Delta_3 ;$}
\noLine
\UnaryInfC{$\hskip2in \Psi_1,  [y(e_1)/y]\Psi_2, [z(\mathtt{mkc}(e_1,y)/z)]:\Psi_3 $}
\DisplayProof
\end{center}}
\centerline{\bf Reductum:}
{\small
\begin{center}
\AxiomC{$x:B \vdash_{\mathsf{L}} e'_1:A_1, \Delta'_1; \Psi'_1\qquad  z:A_1\vdash_{\mathsf{L}} e'_2:A_2, \Delta'_3; \Psi'_3$}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \Delta'_1, [e'_1/z]\Delta'_3,       [e'_1/z]e'_2 : A_2; \Psi'_1,  [e'_1/z]\Psi'_3$}
\AxiomC{$y:A_2\vdash_{\mathsf{L}} \Delta_2; \Psi_2$}
\BinaryInfC{$x:B \vdash_{\mathsf{L}}\Delta'_1, [ [e'_1/z]e'_2/y]\Delta'_2,\ [e'_1/z]\Delta'_3; \Psi'_1,[ [e'_1/z]e'_2]\Psi'_2,\ [e'_1/z]\Psi'_3$}
\DisplayProof
\end{center}}


\vspace{1ex}

\noindent
Given morphisms $n: B\rightarrow \Delta_1\bullet A_1$ and $m: A_1\rightarrow \Delta_3\bullet A_2$, for these equations to be satisfied we need the following diagram to commute (omitting non-linear terms):
\begin{center}
$\xymatrix@R=.4in{B\ar[d]_{\mathbf{MKC}^{A_2}(n)} \ar[rr]^n &\qquad & 
\Delta_1\bullet A_1\ar[d]^{id_{\Delta_1}\bullet m}\\
\Delta_1\bullet(A_1\lsub A_2)\bullet A_2\ar[rr]_{\mathbf{POSTP}(m)\bullet id_{A_2}} &&\Delta_1\bullet\Delta_3\bullet A_2\\
}$
\end{center}
in particular, taking $n = id_{A_1}$ we have 
\begin{center}
$\xymatrix@R=.4in{A_1 \ar[d]_{\mathbf{MKC}^A_2(id_{A_1})}\ar[r]^m&\Delta_3\bullet A_2\\
(A_1\lsub A_2)\bullet A_2 \ar[ur]|{\mathbf{POSTP}(m)\bullet id_{A_2}} &\\
}$
\end{center}
Assuming the above decomposition to be unique, we can show that the $\eta$ equation in context
is also satisfied:     
\begin{equation}\label{eta:subtr}
\framebox{\small 
\AxiomC{$|\Delta| = |\Delta'| \quad |\Psi| = |\Psi'|\quad z;B \vdash_{\mathsf{L}} \Delta, \Psi = \Delta', \Psi'$}
\UnaryInfC{$z:B \vdash_{\mathsf{L}} \mathtt{postp}(x\mapsto y,e), \mathtt{mkc}(x(e),y): A_1\lsub A_2, \Delta, \Psi = 
e: A_1\lsub A_2, \Delta'; \Psi'$}
\DisplayProof
}
\end{equation}
and conclude that there is a natural isomorphism between the maps 
\begin{center}
\AxiomC{$A \rightarrow \Delta\bullet B$}
\doubleLine
\UnaryInfC{$A\smallsetminus B\rightarrow \Delta$}
\DisplayProof
\end{center}
i.e., that $\smallsetminus$ is the left adjoint to the bifunctor $\bullet$.  
%
%
%
%
\subsubsection{Unit rules}
\label{units}  The introduction and elimination rules for the unit $\bot$ are
\begin{center}
\begin{tabular}{cc} 
\AxiomC{$\bot$ {\em introduction}}
\noLine
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta; \Psi\quad r: B \in Delta,\ \hbox{or}\  r:S \in \Psi$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta, \mathtt{connect}_{\bot}\ \mathtt{to}(r):\,\bot; \Psi$}
% \noLine
% \UnaryInfC{where $R \in \kappa$.}
\DisplayProof \quad
&\quad
\AxiomC{$\bot$ {\em elimination}}
\noLine
\UnaryInfC{$x:A \vdash_{\mathsf{L}} e:\bot,  \Delta; \Psi$}
\UnaryInfC{$x:A \vdash_{\mathsf{L}} \mathtt{postp_{\bot}}(e), \Delta; \Psi$}
\DisplayProof
\end{tabular} 
\end{center}
Both the introduction and the elimination rules can be interpreted by a map $a: A \rightarrow 1$, if we give
the term $\mathtt{postp_{\bot}}(e)$ the type $\bot$. However, it is a syntactic requirement that 
in the case of an elimination the type $\bot$ cannot be a subtype of another type. 

\vspace{1ex}

\noindent 
The introduction rule requires a natural transformation with components
\begin{center}
$\Phi_{A,\Delta, J\Psi}: \mathcal{L}(A, \Delta, J\Psi)\rightarrow \mathcal{L}(A, \Delta\bullet \bot\bullet J\Psi)$
\end{center}
natural in $A$, $\Delta$, $J\Psi$. Given morphisms $e:A\rightarrow \Delta\bullet J\Psi$, $d:A'\rightarrow A$, $c:\Delta\rightarrow\Delta'$ and $p:J\Psi\rightarrow J\Psi'$, naturality yields
\begin{center}
$\Phi_{A', \Delta',J\Psi}(d;e;c\bullet id_{J\Psi}) = d;\Phi_{A, \Delta}(e);c\bullet id_{J\Psi}$.
\end{center} 
Letting $d:A\rightarrow\Delta,J\Psi$ and $e = id_{\Delta\bullet J\Psi}$, $c = id_{\Delta\bullet\bot}$ we have 
$$\Phi_{A, \Delta,J\Psi}(d) = d;\mathbf{Bot}_{\Delta,J\Psi}$$
where we write $\mathbf{Bot}_{\Delta,J\Psi}$ for $\Phi_{\Delta,J\Psi}(id_{\Delta},id_{J\Psi})$.
We define 
$$
[\![x:A\vdash_{\mathsf{L}} \Delta \mathtt{connect\ to}(x):\bot; J\Psi]\!] =_{df} 
[\![x:A\vdash_{\mathsf{L}} \Delta, J\Psi]\!];\mathbf{Bot}_{\Delta,J\Psi}. 
$$
\ref{units}.2. {\em Equations in context.}

The equation in context        
 \begin{equation}\label{context:bot}
 \framebox{\quad
\AxiomC{\bf $\bot - \beta$ rule}
\noLine
 \UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta; \Psi = \Delta'; \Psi'$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta, \mathtt{postp}_{\bot}(\mathtt{connect}_{\bot}\ \mathtt{to}(x)); \Psi = \Delta'; \Psi'$}
 \DisplayProof
 \quad}
 \end{equation}
requires that for any $m: D\rightarrow \Gamma$ the following diagram commutes: 
\begin{center}
$\xymatrix@R=.4in{D \ar[r]^{m;\mathbf{Bot}} \ar[dr]_m& 
\Gamma\bullet\bot\ar[d]^{id_{\Gamma}\bullet \langle\rangle;\lambda_{A}}\\
&\Gamma.\\}$
\end{center}
Assuming that this decomposition is unique and taking $m = id_A$ we have that 
$\mathbf{Bot}_A; id_A\bullet\langle\rangle;\lambda_A = id_A$. Arguing as before, 
we see that there is a natural isomorphism 
\begin{center}
\AxiomC{$D\rightarrow\Gamma\bullet 1$}
\doubleLine
\UnaryInfC{$D\rightarrow\Gamma\bullet \bot$}
\DisplayProof
\end{center}
(so we identify $\bot$ and 1) and that the following equation in context is satisfied:
\begin{equation}\label{eta:bot}
\quad\framebox{
\AxiomC{\bf $\bot - \eta$ rule:}
\noLine
\UnaryInfC{$z:B \vdash_{\mathsf{L}} \Delta ; \Psi = \Delta'; \Psi'$}
\UnaryInfC{$z:B \vdash_{\mathsf{L}} \mathtt{connect}_{\bot}\ \mathtt{to}(x): \bot, \mathtt{postp}_{\bot}(e) \Delta; \Psi= \bot
e: \bot,  \Delta'; \Psi'$}
\DisplayProof
\quad}
\end{equation} 

\subsubsection{Functors}\label{functors}

Recall that a model of Linear-Non Linear co-intuitionistic logic consists of  a symmetric comonoidal adjunction 
$\mathcal{L} : H \dashv  J : \mathcal{C}$ where $\mathcal{L} = (\mathcal{L}, \bot, \oplus, \limp)$ 
is a symmetric monoidal coclosed category and $\mathcal{C} = (\mathcal{C}, 0, +, -)$
 is a cocartesian coclosed category.

We use the same symbols for the functors
$J: \mathcal{C} \rightarrow \mathcal{L}$ and $\mathcal{H}: \mathcal{L} \rightarrow  \mathcal{C}$ 
in the models and for the operators that represent them in the language.

\vspace{1ex}

\ref{functors}.1 {\em rules for $J: \mathcal{C} \rightarrow \mathcal{L}$.} 
\begin{equation}
\framebox{
\AxiomC{\it $J$ introduction}
\noLine
\UnaryInfC{$x:A \vdash_{\mathsf{L}} ,\Delta; t:T, \Psi$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta, Jt: JT; \Psi$}
\DisplayProof
}
\end{equation}
If $\Delta = \overline{R}: \Delta$ and $\Psi = \overline{S}: \Psi$, then the categorical interpetation of the rule is 
an application of $\alpha^{-1}$: 
\begin{center}
\AxiomC{$\xymatrix@R=.4in{A\ar[rr]^{\overline{R} \bullet Jt \bullet J\overline{S}} & &\Delta\bullet JT \bullet J\Psi}$}
\UnaryInfC{$\xymatrix@R=.4in{A\ar[rr]^{(\overline{R} \bullet Jt )\bullet J\overline{S}} & &(\Delta\bullet JT) \bullet J\Psi}$}
\DisplayProof
\end{center}


\begin{equation}
\framebox{
\AxiomC{\it $J$ elimination}
\noLine
\UnaryInfC{$x:A \vdash_{\mathsf{L}} \Delta, e: JT;\Psi_1\qquad  y:T \vdash_{\mathsf{C}} \Psi_2\ \hbox{where}\ |\Psi_1|=|\Psi_2|$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \Delta; \Psi_1 \cdot \mathtt{let}\ Jy = e\  \mathtt{in}\ \Psi_2$}
\DisplayProof
}
\end{equation}
If $\Delta = \overline{R}: \Delta$,  $\Psi_1 = \overline{R'}: \Psi_1$, $\Psi_2 = \overline{S}:\Psi_2$, 
then the categorical interpretation of the rule is given by an operation of the form 
\[
\mathcal{L}(A, \Delta\bullet JT\bullet J\Psi_1) \times \mathcal{C}(T, \Psi_2)\rightarrow 
\mathcal{L}(A, \Delta\bullet J\Psi_1\bullet J\Psi_2) 
\]
given by the following compositions
\begin{center}
\AxiomC{$\xymatrix@R=.4in{A \ar[rr]^{\overline{R}\bullet e \bullet J\overline{R}'} && \Delta\bullet JT\bullet J\Psi_1}$}
\AxiomC{$\xymatrix@R=.4in{T \ar[r]^{\overline{S}} & \Psi_2} \quad \hbox{in} \  \mathcal{C}$}
\UnaryInfC{$\xymatrix@R=.4in{JT \ar[r]^{\overline{JS}}& J\Psi_2} \quad \hbox{in} \  \mathcal{L}$}
\BinaryInfC{$\xymatrix@R=.1in@C=.6cm{A \ar[rr]^{\overline{R}\bullet e \bullet J(\overline{R}')\quad} &
& \Delta\bullet J(T) \bullet J(\Psi_1) 
\ar[rrr]^{id_{\Delta}\bullet J(\overline{S}) \bullet id_{J(\Psi_1)}}&&&\Delta\bullet J(\Psi_1)\bullet J(\Psi_2)
\ar[rr]^{id_{\Delta} \bullet j^{-1}_{\Psi_1\Psi_2}} &&\Delta\bullet J(\Psi_1+\Psi_2)}$}
\noLine
\UnaryInfC{\hskip3in since $|\Psi_1| = |\Psi_2|, \quad \xymatrix@R=.1in@C=.6cm{ 
\ar[rr]^{id_{\Delta}\bullet\nabla_{\Psi_1}} &&\Delta \bullet J(\Psi_1)}$}
\DisplayProof
\end{center}

\vspace{3ex}

\noindent
\ref{functors}.2 {\em rules for $H: \mathcal{L} \rightarrow \mathcal{C}$.} 
\begin{equation}
\framebox{
\AxiomC{\it $H$ intro}
\noLine
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \overline{R}: \Delta, e: B; \Psi$}
\UnaryInfC{$x:A\vdash_{\mathsf{L}} \overline{R}: \Delta;He:HB, \Psi$}
\DisplayProof
}
\end{equation}
Let $\Delta = \overline{R}: \Delta$ and  $\Psi = \overline{S}:\Psi$: then 
\begin{center}
\AxiomC{$\xymatrix@R=.1in@C.5cm{A \ar[rr]^{\overline{R}\wp e\wp J(\overline{S})\quad}&&
\Delta \bullet B \bullet  J(\Psi)}$}
\RightLabel{using $\eta_B: B \rightarrow JHB$}
\UnaryInfC{$\xymatrix@R=.1in@C.5cm{A \ar[rrr]^{\overline{R}\wp JH(e) \bullet J(\overline{S})\quad}&&
& \Delta\bullet JH(B)\bullet J(\Psi)}$}
\DisplayProof
\end{center}

\vspace{3ex}
 
\begin{equation}
\framebox{
\AxiomC{\it $H$ elim$_1$}
\noLine
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \Delta ;  t:HA, \Psi_1\qquad y:A\vdash_{\mathsf{L}} ·; \Psi_2 \quad \hbox{where}\ |\Psi_1|=|\Psi_2|$}
\UnaryInfC{$x:B \vdash_{\mathsf{L}} \Delta; \Psi_1 \cdot (\mathtt{let}\ Hy=t\ \mathtt{in}\ \Psi_2)$}
\DisplayProof
}
\end{equation}

\begin{equation}
\framebox{
\AxiomC{\it $H$ elim$_2$}
\noLine
\UnaryInfC{$x:S \vdash_{\mathsf{C}} t:HA, \Psi_1\qquad y:A\vdash_{\mathsf{L}} ·; \Psi_2 \quad \hbox{where}\ |\Psi_1|=|\Psi_2|$}
\UnaryInfC{$x:S \vdash_{\mathsf{C}} \Psi_1 \cdot (\mathtt{let}\ Hy=t\ \mathtt{in}\ \Psi_2)$}
\DisplayProof
}
\end{equation}
The categorical interpretation of $H$ elim$_2$ is as follows:
Let $\Psi_1 = \overline{R}: \Psi_1$ and $\Psi_2 = \overline{S}: \Psi_2$. Then we have the following compositions: 
\begin{center}
\AxiomC{$\strut\quad$}
\noLine
\UnaryInfC{$\xymatrix@R=.1in@C.5cm{S \ar[rr]^{t + \overline{R}\quad}&& H(A) + \Psi}$}
\AxiomC{$\xymatrix@R=.1in@C.5cm{A \ar[rr]^{J(\overline{S})} && J(\Psi)}\quad \hbox{in}\ \mathcal{L}$}
\UnaryInfC{$\xymatrix@R=.1in@C.5cm{HA \ar[rr]^{HJ(\overline{S})} && HJ(\Psi) 
\ar[r]^{\quad\epsilon_{\Psi}} &\Psi}\quad \hbox{in}\ \mathcal{C}$}
\BinaryInfC{$\xymatrix@R=.1in@C.5cm{S \ar[rr]^{t + \overline{R}\quad}&& H(A) + \Psi
\ar[rrr]^{HJ(\overline{S}) + id_{\Psi}} &&& \Psi + \Psi \ar[r]^{\quad\nabla_{\Psi}}& \Psi }$}
\DisplayProof\\
\end{center}
% subsection categorical_interpretation_of_rules (end)

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: main.tex
%%% End: 

